<!DOCTYPE html>

<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="author" content="joje.attrs@gmail.com">
		
		<title>import</title>
		<script type="text/javascript" src="../build/attrs.dom.js"></script>
		<script type="text/javascript">
			var $ = require('attrs.dom');
			var importer = require('html-import');
			
			function programatically() {
				importer.load('partials/partial.html').async(function(err, doc) {
					if( err ) return console.error(err);

					console.debug('imported document', doc);
					
					$('#slot').append(doc.body.childNodes);
				});

				var doc = importer.load('partials/partial.html').sync();
				console.log('imported document', doc);
				
				$('#slot').append(doc.body.childNodes);
			}

			$.ready(function(e) {
				console.log('DOM Ready!');
				
				$('div').css('border', '1px dotted orange');
				$('#slot').import('partials/partial.html?v=1', function(err, doc) {
					if( err ) return console.error('error', err);
					console.log('imported', doc);
				});
				
				programatically();

				console.log('window.a', window.a);
				console.log('window.b', window.b);
			});
		</script>
	</head>
	<body>
		<div id="slot"></div>
		
		<div>local</div>
	</body>
</html>

