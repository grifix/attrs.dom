<!DOCTYPE html>

<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="author" content="joje.attrs@gmail.com">
		
		<title>import</title>
		<script type="text/javascript" src="../build/attrs.dom.js"></script>
		<script type="text/javascript">
			var $ = require('attrs.dom');
			
			//console.log('document.documentElement', document.documentElement, document.createElement('html'));
			
			if( false ) {
				// programatically	
				var Importer = $.Importer;
				
				Importer.load('partials/partial.html').async(function(err, doc) {
					if( err ) return console.error(err);
				
					console.debug('imported document', doc);
				});
			
				var doc = Importer.load('partials/partial.html').sync();
				console.log('imported document', doc);
			}
			
			$.ready(function(e) {
				$('div').css('border', '1px dotted orange');
				$('#slot').import('partials/partial.html', function(err, doc) {
					if( err ) return console.error('error', err);
					console.log('imported', doc);
				});
				
				console.log('window.a', window.a);
				console.log('window.b', window.b);
				
				$('#slot').on('custom.test', function(e) {
					console.log('custom event fired', e, e.detail);
				});
			
				$('#slot').fire('custom.test', {key:'value'});
			});
		</script>
	</head>
	<body>
		<div id="slot"></div>
		
		<div>local</div>
	</body>
</html>

