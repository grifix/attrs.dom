/*! attrs.dom 2014-08-18 */
!function(){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var Path=function(){"use strict";function a(b){if(b instanceof a&&(b=b.src),!b||"string"!=typeof b)throw new Error("invalid path:"+b);this.src=b.trim()}return a.prototype={join:function(b){return a.join(this.src,b)},dir:function(){return a.dir(this.src)},uri:function(){return a.uri(this.src)},filename:function(){return a.filename(this.src)},ext:function(){return a.ext(this.src)},querystring:function(){return a.querystring(this.src)},query:function(){return a.query(this.src)},host:function(){return a.host(this.src)},parse:function(){return a.parse(this.src)},parent:function(){return a.parent(this.src)},isFile:function(){return!src.endsWith("/")},isDirectory:function(){return src.endsWith("/")},toString:function(){return this.src}},a.join=function(b,c){if(!b)return c;if("."===c.trim())return b;if(b instanceof a&&(b=b.src),c instanceof a&&(c=c.src),b=this.dir(b),c=c.trim(),c.indexOf(":")>=0)return c;if(c.startsWith("/")){var d;if((d=b.indexOf("://"))>=0)b=b.substring(0,b.indexOf("/",d+3));else{if(!((d=b.indexOf(":"))>=0))return c;b=b.substring(0,d+1)}}else for(;c.startsWith(".");)if(c.startsWith("./"))c=c.substring(2);else{if(!c.startsWith("../"))return null;if(b=this.parent(b),c=c.substring(3),!b)return null}return b+c},a.dir=function(b){if(!b)return"";b instanceof a&&(b=b.src),b=b.trim(),~b.indexOf("?")&&(b=b.substring(0,b.indexOf("?"))),~b.indexOf("#")&&(b=b.substring(0,b.indexOf("#")));var c,d="";if(c=b.indexOf("://")){if(c=b.indexOf("/",c+3),0>c)return b+"/";d=b.substring(0,c)||b,b=b.substring(c)}return b.endsWith("/")?b=b:b.indexOf("/")>=0?b=b.substring(0,b.lastIndexOf("/"))+"/":b+="/",d+b},a.filename=function(b){return b?(b instanceof a&&(b=b.src),b=a.uri(b).trim(),b.endsWith("/")?(b=b.substring(0,b.length-1),b.substring(b.lastIndexOf("/")+1)):b.substring(b.lastIndexOf("/")+1)):""},a.ext=function(b){if(!b)return"";b instanceof a&&(b=b.src),b=a.filename(b);var c=b.split(".");return c.length<=1?"":c[c.length-1]},a.uri=function(b){return b?(b instanceof a&&(b=b.src),b=b.trim(),~b.indexOf("?")&&(b=b.substring(0,b.indexOf("?"))),~b.indexOf("#")&&(b=b.substring(0,b.indexOf("#"))),b):""},a.querystring=function(b){return b?(b instanceof a&&(b=b.src),b=b.trim(),~b.indexOf("?")?void(b=b.substring(b.indexOf("?")+1)):""):""},a.query=function(b){if(!b)return"";b instanceof a&&(b=b.src);var c=this.querystring(c),d={};return c.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(a,b,c,e){b&&void 0!==e&&(e.indexOf("#")>=0&&(e=e.substring(0,e.lastIndexOf("#"))),void 0!==o.query[b]?(Array.isArray(d[b])||(d[b]=[d[b]]),d[b].push(e)):d[b]=e)}),d},a.host=function(b){if(!b)return"";if(b instanceof a&&(b=b.src),(i=b.indexOf("://"))>=0){var c=b.indexOf("/",i+3);return b=b.substring(i+3,c>=0?c:b.length),(i=b.indexOf(":"))>=0&&(b=b.substring(0,i)),b}return null},a.parse=function(b){return b?(b instanceof a&&(b=b.src),{url:b,uri:this.uri(b),host:this.host(b),querystring:this.querystring(b),query:this.query(b),name:this.filename(b),dir:this.dir(b),parent:this.parent(b)}):{}},a.parent=function(b){if(!b)return"";b instanceof a&&(b=b.src),b=this.dir(b),~b.indexOf("?")&&(b=b.substring(0,b.indexOf("?"))),~b.indexOf("#")&&(b=b.substring(0,b.indexOf("#")));var c=b.split("/");return!c||c.length<=2?null:c.splice(0,c.length-2).join("/")+"/"},a}(),Ajax=function(){"use strict";function AjaxError(a,b){this.message=a,b&&(this.status=b.status,this.xhr=b)}function eval_in_global(a){try{eval.call(window,a)}catch(b){throw new SyntaxError("remote script syntax error ("+b.message+") in ["+src+"]")}}function eval_json(script,src){try{var o;return eval("o = "+script),o}catch(e){throw new SyntaxError("remote json syntax error ("+e.message+") in ["+src+"]")}}function string2xml(a){if(window.ActiveXObject){var b=new ActiveXObject("Microsoft.XMLDOM");b.async="false",b.loadXML(a)}else var b=(new DOMParser).parseFromString(a,"text/xml");return b}AjaxError.toString=function(){return this.message};var Ajax=function(){};return Ajax.prototype={toqry:function(a){if(!a||"object"!=typeof a)return"";var b="",c=!0;for(var d in a){var e=a[d],f=typeof e;("string"==f||"number"==f||"boolean"==f)&&(e=encodeURIComponent(e),d&&(b+=(c?"":"&")+d+"="+e),c=!1)}return b},get:function(a,b,c,d){if("function"==typeof c&&(d=c,c=null),!a){if(!d)throw new AjaxError("missing url");d(new AjaxError("missing url"))}var e=c||{};e.eval||e.json?e.parse=!1:e.parse!==!0&&(e.parse=!1),d||(e.sync=!0,d=function(a){if(a)throw a});var f;return this.ajax(a).qry(b).parse(e.parse).cache(e.cache).sync(e.sync).get().done(function(a,b,c){return a?d(a,b,c):(e.json?b=eval_json(b):e.eval&&eval_in_global(b),f=b,void d(a,b,c))}),f},text:function(a,b,c){return this.get(a,null,{cache:b},c)},eval:function(a,b,c){return this.get(a,null,{eval:!0,cache:b},c)},json:function(a,b,c){return this.get(a,null,{json:!0,cache:b},c)},ajax:function(a){var b={method:"get",sync:!1,cache:!0,parse:!0};if("object"==typeof a)for(var c in a)b[c]=a[c];else{if("string"!=typeof a)throw new AjaxError("illegal ajax option(string or object):"+a);b.url=a}var d=null,e=this,f=function(){var a,c,f,g,h,i,j=!1,k=!1;d={done:function(b){return a.listeners.done.push(b),a.commit(),this},success:function(b){return a.listeners.success.push(b),a.commit(),this},error:function(b){return a.listeners.error.push(b),a.commit(),this}};var l=b;a={listeners:{done:[],success:[],error:[]},done:function(){var a=this.listeners.done,b=arguments;a&&a.forEach(function(a){"function"==typeof a&&a.apply(l.scope||a,b)})},success:function(){var a=this.listeners.success,b=arguments;a&&a.forEach(function(a){"function"==typeof a&&a.apply(l.scope||a,b)})},error:function(){var a=this.listeners.error,b=arguments;a&&a.forEach(function(a){"function"==typeof a&&a.apply(l.scope||a,b)})},commit:function(){if(j){var a=f;if(a&&!k){if(l.parse&&i&&i.indexOf("json")>=0&&a)try{var b=JSON.parse(a);a=b}catch(d){console.warn("[warn] json parse error:",d.message,"[in "+m+"]")}else l.parse&&i&&i.indexOf("xml")>=0&&a&&(a=string2xml(a));k=!0}l.interceptor?l.interceptor.apply(l.scope||this,[{config:l,error:c,xhr:o,payload:f,data:a,statusText:h,contentType:i}]):(c?this.error(c,a,o,f):this.success(a,o,f),this.done(c,a,o,f))}}},l.success&&a.listeners.success.push(l.success),l.error&&a.listeners.error.push(l.error),l.done&&a.listeners.done.push(l.done);var m=l.url,n=e.toqry(l.qry)||"";m+=m.indexOf("?")>0?(l.cache?"":"&_nc="+Math.random())+(n?"&"+n:""):(l.cache?"":"?_nc="+Math.random())+(n?"&"+n:"");var o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");o.open(l.method,m,!l.sync),l.accept&&o.setRequestHeader("Accept",l.accept);var p=function(){f=o.responseText||"",g=o.status,h=o.statusText,i=o.getResponseHeader("Content-Type"),j=!0,c=200==o.status||204==o.status?null:new AjaxError(h||g,o),a.commit()},q=function(){f=o.responseText||"",g=o.status,h=o.statusText,i=o.getResponseHeader("Content-Type"),j=!0,c=h||g||"unknown ajax error",a.commit()};o.addEventListener?(o.addEventListener("load",p,!1),o.addEventListener("error",q,!1),o.addEventListener("abort",q,!1)):(o.onreadystatechange=function(){4===o.readyState&&p()},o.onload=onload,o.onerror=q,o.onabort=q),d.xhr=o;try{l.payload?("object"==typeof l.payload&&(l.payload=JSON.stringify(l.payload),l.contentType="application/json"),o.setRequestHeader("Content-Type",(l.contentType||"application/x-www-form-urlencoded")+(l.charset?"; charset="+l.charset:"")),o.send(l.payload)):o.send()}catch(r){c=r,g=-1,h="script error:"+r,j=!0,a.commit()}return d};return{qry:function(a){return a?(b.qry=a,this):this},nocache:function(a){return arguments.length||(a=!0),"boolean"!=typeof a?this:this.cache(!a)},cache:function(a){return arguments.length||(a=!0),"boolean"!=typeof a?this:(b.cache=a,this)},parse:function(a){return arguments.length||(a=!0),"boolean"!=typeof a?this:(b.parse=a,this)},sync:function(a){return arguments.length||(a=!0),"boolean"!=typeof a?this:(b.sync=a,this)},url:function(a){return a?(b.url=a,this):this},contentType:function(a){return b.contentType=a,this},charset:function(a){return b.charset=a,this},accept:function(a){return b.accept=a,this},post:function(a){return b.method="post",b.payload=a?a:null,this},put:function(a){return b.method="put",b.payload=a?a:null,this},get:function(a){return b.method="get",b.payload=a?a:null,this},options:function(a){return b.method="options",b.payload=a?a:null,this},del:function(a){return b.method="delete",b.payload=a?a:null,this},interceptor:function(a){return b.interceptor=a,this},listeners:function(a){return a.success&&(b.success=a.success),a.error&&(b.error=a.error),a.done&&(b.done=a.done),this},scope:function(a){return b.scope=a,this},execute:function(){if(d)throw new AjaxError("already executed");return f()},done:function(a){return d||f(),d.done(a),d},success:function(a){return d||f(),d.success(a),d},error:function(a){return d||f(),d.error(a),d}}}},new Ajax}(),Require=function(){function createRequire(a){return a=Path.join(current_uri,a)||current_uri,a=Path.dir(a),function(a){return function(b,c,d){return(b.startsWith("./")||~b.indexOf("://"))&&(b=Path.join(a,b)),Require.get(b,c,d)}}(a)}function eval_as_module(script,src){src=src||current_uri;var exports={},require=createRequire(src),module={exports:exports},__filename=Path.join(Path.dir(current_uri),src),__dirname=Path.dir(__filename),scope=sandbox();with(scope.Ajax=void 0,scope.Path=void 0,scope.Require=void 0,scope.eval_as_module=void 0,scope.sandbox=void 0,scope.excepts=void 0,scope.createRequire=void 0,scope.global=global,scope)if("string"==typeof script)eval("(function(module, require, exports, __filename, __dirname) {	"+script+" \n})(module, require, exports, __filename, __dirname);");else{if("function"!=typeof script)throw new Error("illegal script or function");script(module,require,exports,__filename,__dirname)}return module}var global=window,current_uri=Path.uri(location.href),excepts=["document","window","require","Map","Set","WeakMap","console","alert","confirm","print","prompt","setTimeout","clearTimeout","setInterval","clearInterval"],sandbox=function(){var a={};return a},global={__sandbox_global__:1},Require;return Require=function(){"use strict";function eval_json(json,src){try{return eval("json = "+json),json}catch(e){throw new SyntaxError("json ["+src+"] has syntax error ("+e.message+")")}}function conn(a,b,c,d){Ajax.ajax(a).cache(b).parse(!1).sync(c).get().done(function(b,c,e){if(b)return d(b,c,e);var f=e.getResponseHeader("content-type");c=f&&~f.indexOf("javascript")?eval_as_module(c,a):f&&~f.indexOf("/json")||a.lastIndexOf(".json")>=0&&a.lastIndexOf(".json")===a.length-".json".length?{exports:eval_json(c,a)}:f&&~f.indexOf("text/")||a.lastIndexOf(".html")>=0&&a.lastIndexOf(".html")===a.length-".html".length?c:eval_as_module(c,a),d(null,c)})}function Require(){}var cached={},bundles={window:window,document:document,require:Require,ajax:function(a){a.exports=Ajax},path:function(a){a.exports=Path},events:function(a){a.exports=EventDispatcher}};return Require.prototype={resolve:eval_as_module,bundles:function(){return bundles},bundle:function(a){return bundles[a]},cached:function(){return cached},define:function(a,b){return a&&"string"==typeof a?void(bundles[a]=b):this},defines:function(a){if(!arguments.length)return bundles;if("object"!=typeof a)return null;for(var b in a)a.hasOwnProperty(b)&&"_"!==b[0]&&!~b.indexOf(" ")&&this.define(b,a[b]);return this},get:function(a,b,c,d){if(b===!0&&(cached[a]=null),"string"!=typeof a)throw new Error("invalid path '"+ +a+"'");var e,f=this.bundle(a);if("function"==typeof f)e=cached[a]||eval_as_module(f);else if(f)e={exports:f};else if(a.startsWith("./")||~a.indexOf("://")){var g=c===!0?!1:!0;if("function"==typeof d)return cached[a]?d(null,cached[a]):void conn(a,g,!1,function(b,c){b&&d(b),c?cached[a]=c:d(new Error("Can not load module '"+a+"'")),d(null,c)});conn(a,g,!0,function(a,b){if(a)throw a;e=b})}if(e&&(cached[a]=e),"function"==typeof d)return e||d(new Error("Can not find module '"+a+"'")),d(null,e&&e.exports||e);if(!e)throw new Error("Can not find module '"+a+"'");return e&&e.exports},sync:function(a,b,c){return this.get(a,b,c)},async:function(a,b,c){var d=this;return{done:function(e){d.get(a,b,c,e)}}}},Require=new Require}()}();!function(){var a=window.require,b=window.define,c=function(a,b){return Require.sync(a,b)};c.resolve=Require.resolve,window.require=c,window.define=Require.define,window.define.attrs=!0,window.require.noConflict=function(){return window.require=a,window.define=b,c};var d="http://code.jquery.com/jquery-latest.js";window.__require_jquery_url__&&(d=window.__require_jquery_url__),Require.define("jquery",function(a){var b;console.log("$",b),a.exports=b})}()}(),window.__evalscript__=function(script){with({})return eval(script)},function(){var DefaultCSS3Validator=function(){"use strict";function a(a){return a&&"string"==typeof a?(a=a.trim(),a=a.split("-webkit-").join(""),a=a.split("-moz-").join(""),a=a.split("-ms-").join(""),a=a.split("-o-").join(""),a=a.split("-wap-").join("")):a}function b(b){return"string"==typeof b?a(b.toLowerCase()):b}function c(a){a=a||"",a&&(a="-"+a+"-"),a=a.split("--").join("-"),this.prefix=a}var d=["align-content","align-items","align-self","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","background-clip","background-composite","background-origin","background-size","border-fit","border-horizontal-spacing","border-image","border-vertical-spacing","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-reflect","box-shadow","box-sizing","color-correction","column-axis","column-break-after","column-break-before","column-break-inside","column-count","column-gap","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","filter","flex","flex-direction","flex-flow","flex-wrap","flow-from","flow-into","flex-glow","flex-shrink","flex-basis","font-kerning","font-smoothing","font-variant-ligatures","grid-column","grid-columns","grid-row","grid-rows","highlight","hyphenate-character","hyphenate-limit-after","hyphenate-limit-before","hyphenate-limit-lines","hyphens","justify-content","line-align","line-box-contain","line-break","line-clamp","line-grid","line-snap","locale","margin-after-collapse","margin-before-collapse","marquee-direction","marquee-increment","marquee-repetition","marquee-style","mask-attachment","mask-box-image","mask-box-image-outset","mask-box-image-repeat","mask-box-image-slice","mask-box-image-source","mask-box-image-width","mask-clip","mask-composite","mask-image","mask-origin","mask-position","mask-repeat","mask-size","nbsp-mode","order","perspective","perspective-origin","print-color-adjust","region-break-after","region-break-before","region-break-inside","region-overflow","rtl-ordering","shape-inside","shape-outside","svg-shadow","tap-highlight-color","text-combine","text-decorations-in-effect","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-fill-color","text-orientation","text-security","text-stroke-color","text-stroke-width","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","user-drag","user-modify","user-select","wrap-flow","wrap-margin","wrap-padding","wrap-through","writing-mode","text-size-adjust"],e={display:["box","flex","flexbox"],transition:["transform"],"transition-property":["transform"]},f={height:"px","min-height":"px","max-height":"px",width:"px","min-width":"px","max-width":"px",margin:"px","margin-left":"px","margin-right":"px","margin-top":"px","margin-bottom":"px",padding:"px","padding-left":"px","padding-right":"px","padding-top":"px","padding-bottom":"px","line-height":"px","marquee-increment":"px","mask-box-image-outset":"px","column-rule-width":"px","border-image-outset":"px","border-left-width":"px","border-right-width":"px","border-top-width":"px","border-bottom-width":"px","border-radius":"px","border-top-left-radius":"px","border-top-right-radius":"px","border-bottom-left-radius":"px","border-bottom-right-radius":"px","outline-offset":"px","outline-width":"px","word-spacing":"px","text-indent":"px","font-size":"px","animation-duration":"s","animation-delay":"s","transition-delay":"s","transition-duration":"s","perspective-origin":"%","text-stroke-width":"px"};return c.prototype={rule:function(b){if("string"!=typeof b)throw new Error("invalid css rule",b);var c,b=a(b),d=this.prefix;return(~b.indexOf(":input-placeholder")||~b.indexOf(":placeholder"))&&(b=b.split("::input-placeholder").join(":placeholder"),b=b.split(":input-placeholder").join(":placeholder"),b=b.split("::placeholder").join(":placeholder"),b=b.split(":placeholder").join("::placeholder"),c=[],"-ms-"===d?c=b.split("::placeholder").join(":"+d+"input-placeholder"):"-webkit-"===d?c=b.split("::placeholder").join("::"+d+"input-placeholder"):"-moz-"===d?(c.push(b.split("::placeholder").join(":"+d+"placeholder")),c.push(b.split("::placeholder").join("::"+d+"placeholder"))):c=b.split("::placeholder").join("::"+d+"placeholder")),~b.indexOf("@keyframes")&&(c=b.split("@keyframes").join("@"+d+"keyframes")),c=c||b,{original:b,device:c}},key:function(a){if("string"!=typeof a)throw new Error("invalid css key",a);a=b(a);var c=a;return~d.indexOf(a)&&(c=this.prefix+a),{original:a,device:c,merged:a===c?a:[a,c]}},value:function(b,c){if("string"!=typeof b)throw new Error("invalid css key",b);var b=this.key(b),d=function(c,d,f){f=a(f);var g=e[d],h=g?g[g.indexOf(f)]:null;return{key:b,original:f,device:h?c+h:f}},g=this.prefix;if("string"==typeof c){for(var h=c.split(","),i=[],j=[],k=0;k<h.length;k++){var c=h[k].trim(),l=d(g,b.original,c);i.push(l.original),j.push(l.device)}return{key:b,original:i.join(", "),device:j.join(", ")}}return"number"==typeof c?(c=0===c?"0":c+(f[b.original]||""),{key:b,original:c,device:c}):{key:b,original:c,device:c}}},c}(),CSS3Calibrator=function(){"use strict";function a(a){var b;try{for(;~(b=a.indexOf("-"));){var c=a.substring(0,b),d=a.substring(b+1,b+2).toUpperCase(),e=a.substring(b+2);a=c+d+e}a=a.substring(0,1).toLowerCase()+a.substring(1)}catch(f){console.error("WARN:style key camelcase translation error",a,f)}return a}function b(a){this.device=a;var b=a.prefix;b&&"string"==typeof b||(b=""),this.adapter=new DefaultCSS3Validator(b||"")}return b.prototype={adapter:function(a){if(!arguments.length)return this.adapter;if("object"!=typeof a)throw new Error("invalid calibrator(object)",a);return this.adapter=a,this},camelcase:function(b){if("float"===b){if(this.device.is("ie"))return"styleFloat";if(this.device.is("gecko"))return"cssFloat"}return a(b)},value:function(a,b){if("string"!=typeof a)throw new Error("invalid key(string)",a);if(Array.isArray(b)){for(var c={original:{},device:{},merged:{}},d=0;d<b.length;d++){var e=this.adapter.value(a,b[d]),f=e.key;c.original[f.original]||(c.original[f.original]=[]),c.device[f.device]||(c.device[f.device]=[]),c.original[f.original].push(e.original),c.device[f.device].push(e.device),a.original===a.device?(c.merged[f.original]||(c.merged[f.original]=[]),e.original===e.device?c.merged[f.original].push(e.original):(c.merged[f.original].push(e.original),c.merged[f.device].push(e.device))):(c.merged[f.original]||(c.merged[f.original]=[]),c.merged[f.device]||(c.merged[f.device]=[]),c.merged[f.original].push(e.original),c.merged[f.device].push(e.device))}return c}var e=this.adapter.value(a,b),f=e.key,c={original:{},device:{},merged:{}};return c.original[f.original]=e.original,c.device[f.device]=e.device,f.original===f.device&&e.original!==e.device?(c.merged[f.original]=[],c.merged[f.original].push(e.original),c.merged[f.original].push(e.device)):(c.merged[f.original]=e.original,c.merged[f.device]=e.device),c},values:function(a){if("object"!=typeof a)throw new Error("invalid values(object)");var b={original:{},device:{},merged:{}};for(var c in a)if(a.hasOwnProperty(c)){var d=this.value(c,a[c]);c=this.key(c),b.original[c.original]=d.original[c.original],b.device[c.device]=d.device[c.device],Array.isArray(c.merged)||(c.merged=[c.merged]);for(var e=0;e<c.merged.length;e++)b.merged[c.merged[e]]=d.merged[c.merged[e]]}return b},key:function(a){if("string"!=typeof a)throw new Error("invalid key(string)",a);return this.adapter.key(a)},rule:function(a){if("string"!=typeof a)throw new Error("invalid rule(string)",a);if(~a.indexOf(",")&&(a=a.split(",")),Array.isArray(a)){for(var b={original:[],device:[],merged:[]},c=0;c<a.length;c++){var d=this.adapter.rule(a[c].trim());b.original.push(d.original),b.device.push(d.device),d.original===d.device?b.merged.push(d.original):(b.merged.push(d.original),Array.isArray(d.device)?b.merged=b.merged.concat(d.device):b.merged.push(d.device))}return b.original=b.original.join(", "),b.device=b.device.join(", "),b.merged=b.merged.join(", "),b}var b={},d=this.adapter.rule(a);return b.original=d.original,b.device=d.device,d.original!==d.device?(b.merged=[d.original],Array.isArray(d.device)?b.merged=b.merged.concat(d.device):b.merged.push(d.device)):b.merged=b.original,Array.isArray(b.original)&&(b.original=b.original.join(", ")),Array.isArray(b.device)&&(b.device=b.device.join(", ")),Array.isArray(b.merged)&&(b.merged=b.merged.join(", ")),b},proofread:function(a,b){var c=this.rule(a);b=this.values(b);var d={original:{},device:{},merged:{}},e=c.original;Array.isArray(e)||(e=[e]);for(var f=0;f<e.length;f++){var a=e[f];d.original[a]=b.original}e=c.device,Array.isArray(e)||(e=[e]);for(var f=0;f<e.length;f++){var a=e[f];d.device[a]=b.device}e=c.merged,Array.isArray(e)||(e=[e]);for(var f=0;f<e.length;f++){var a=e[f];d.merged[a]=b.merged}return d}},b}(),Device=function(){function Device(){"use strict";var a=window.navigator,b=a.platform,c=a.userAgent,d={name:"",version:"",codename:"",type:""},e="desktop",f="",g="",h="",i="devicePixelRatio"in window&&window.devicePixelRatio>1,j="ontouchstart"in window,k="",l=!1,m=!1,n={width:screen.width,height:screen.height};~c.indexOf("Seamonkey/")?(f="gecko",g="seamonkey",k="-moz-"):~c.indexOf("Firefox/")?(f="gecko",g="firefox",k="-moz-"):~c.indexOf("Opera/")?(f="presto",g="opera",k="-o-"):~c.indexOf("MSIE ")?(f="trident",g="msie",k="-ms-"):~c.indexOf("webOS/")?(f="webkit",g="webos",k="-webkit-"):~c.indexOf("Chromium/")?(f="webkit",g="chromium",k="-webkit-"):~c.indexOf("Chrome/")?(f="webkit",g="chrome",k="-webkit-"):~c.indexOf("Android")?(f="webkit",g="android",k="-webkit-"):~c.indexOf("Safari/")?(f="webkit",g="safari",k="-webkit-"):~c.indexOf("Kindle/")?(f="netfront",g="kindle",k="",d={name:"kindle",type:"tablet"}):~c.indexOf("NetFront/")?(f="netfront",g="netfront",k=""):~c.indexOf("BlackBerry")?(f="webkit",g="blackberry",k="",d={name:"kindle",type:"tablet"}):~c.indexOf("AppleWebKit/")?(f="webkit",g="webkit",k="-webkit-"):~c.indexOf("Gecko/")&&(f="gecko",g="gecko",k="-moz-"),d.name||(~c.indexOf("(iPhone;")?(e="iphone",d={name:"ios",type:"mobile"}):~c.indexOf("(iPad;")?(e="ipad",d={name:"ios",type:"tablet"}):~c.indexOf("(iPod;")?(e="ipod",d={name:"ios",type:"mobile"}):~c.indexOf("Android")&&~c.indexOf("Mobile")?(e="android",d={name:"android",type:"mobile"}):~c.indexOf("Android")&&(e="android",d={name:"android",type:"tablet"})),d.type||(/ipad|android 3|xoom|sch-i800|playbook|tablet|kindle/i.test(c.toLowerCase())?d.type="tablet":/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(c.toLowerCase())&&(d.type="mobile")),d.name||(~c.indexOf("Mac OS X;")?d={name:"osx",type:"desktop"}:~c.indexOf("Mac OS")?d={name:"mac",type:"desktop"}:~c.indexOf("Windows;")||"Win32"===b?d={name:"windows",type:"desktop"}:~c.indexOf("Linux;")?d={name:"linux",type:"desktop"}:d.name=b);var o=document.documentElement.style;"webkit"==f?(l="webkitTransform"in o,m="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix):"gecko"==f?l="MozTransform"in o:"presto"==f?l="OTransform"in o:"trident"==f&&(l="MSTransform"in o),l||(l="Transform"in o);var p;"android"===g&&~(p=c.indexOf("Android"))?h=d.version=c.substring(p+7,c.indexOf(" ",p+1)):"msie"===g&&~(p=c.indexOf("MSIE "))?h=c.substring(p+5,c.indexOf(";",p+1)):"chrome"===g&&~(p=c.indexOf("Chrome/"))?h=c.substring(p+7,c.indexOf(" ",p+1)):"safari"===g&&~(p=c.indexOf("Version/"))&&(h=c.substring(p+8,c.indexOf(" ",p+1))),this.agent=c,this.platform=d,this.device=e,this.engine=f,this.browser=g,this.versionString=h,this.version=parseInt(h.split(".")[0]),this.retina=i,this.touchable=j,this.prefix=k,this.transform=l,this.has3d=m,this.resolution=n,this.calibrator=new CSS3Calibrator(this),this.gecko="gecko"===this.engine,this.webkit="webkit"===this.engine,this.firefox="firefox"===this.browser,this.ie="msie"===this.browser,this.opera="opera"===this.browser,this.chrome="chrome"===this.browser,this.safari="safari"===this.browser,this.iphone="iphone"===this.device,this.ipad="ipad"===this.device,this.ipod="ios"===this.device,this.ios="ios"===this.platform.name,this.android="android"===this.platform.name,this.osx="osx"===this.platform.name,this.windows="windows"===this.platform.name,this.linux="linux"===this.platform.name,this.phone="phone"===this.platform.type,this.tablet="tablet"===this.platform.type,this.desktop="desktop"===this.platform.type,"gecko"===f&&window.HTMLElement&&window.HTMLElement.prototype.__defineGetter__&&(HTMLElement.prototype.__defineGetter__("innerText",function(){if(this.textContent)return this.textContent;var a=this.ownerDocument.createRange();return a.selectNodeContents(this),a.toString()}),HTMLElement.prototype.__defineSetter__("innerText",function(a){this.innerHTML=a}))}return Device.prototype={is:function(query){with(this)try{return eval(query)}catch(err){return console.warn("incorrect query ["+query+"]",err.message),!1}}},new Device}(),StyleSession=function(){"use strict";function a(a){this.el=a,this.buffer={}}var b=Device.calibrator;return a.prototype={toString:function(){return this.text()},toJSON:function(){return this.get()},raw:function(a){return arguments.length?("string"==typeof a&&this.el.attr("style",a),this):this.el.style.cssText},text:function(a){if(!arguments.length){var b=this.get(),a="";for(var c in b)a+=c+": "+(b[c]||"")+"; ";return a}if("string"==typeof a)for(var d=a.split(";"),e=0;e<d.length;e++){var f=d[e];if(f){var g=f.split(":"),c=g[0],h=g[1];"string"==typeof h&&(h=h.trim()),this.set(c.trim(),h)}}else console.error("[WARN] illegal style text",a);return this},get:function(a){if(!arguments.length){var c={},d=this.el,e=d.style.cssText;if(e)for(var f=e.split(";"),g=0;g<f.length;g++){var h=f[g];if(h){var i=h.split(":"),a=b.key(i[0].trim()).original;c[a]=this.get(a)}}var j=this.buffer;for(var a in j)c[a]=j[a];return c}"string"!=typeof a&&console.error("[WARN] invalid key",a);var j=this.buffer;if(j[a])return j[a];var d=this.el;a=b.key(a);var k=d.style[b.camelcase(a.device)]||d.style[b.camelcase(a.original)],l=b.value(a.original,k);return l.original[a.original]},set:function(a,c){if(1===arguments.length&&a===!1)return this.clear();var d={};if("string"==typeof a)d[a]=c;else{if("object"!=typeof a)return this;d=a}var e=b.values(d),f=e.merged,g=this.buffer;if(f)for(var a in f)if(f.hasOwnProperty(a)){var c=f[a];g[a]=c}return this},clear:function(){this.buffer={$clear:!0}},rollback:function(){this.buffer={}},commit:function(){var a=this.el;try{var c=a.style.cssText,d=this.buffer||{};this.buffer={},d.$clear&&(a.style.cssText="");for(var e in d)if(d.hasOwnProperty(e)){var f=d[e];e=b.camelcase(e),Array.isArray(f)||(f=[f]);for(var g=0;g<f.length;g++)try{a.style[e]=f[g]===!1?null:f[g]}catch(h){return console.error("[ERROR] style write failure ("+e+":"+f[g]+")"),a.style.cssText=c,this}}a.style.cssText||a.removeAttribute("style")}catch(h){console.error("[ERROR] style write failure ("+h.message+")",d,h),a.style.cssText=c}return this}},a}(),el,session,Color=function(){"use strict";return{hexToR:function(a){return parseInt(this.cutHex(a).substring(0,2),16)},hexToG:function(a){return parseInt(this.cutHex(a).substring(2,4),16)},hexToB:function(a){return parseInt(this.cutHex(a).substring(4,6),16)},cutHex:function(a){return"#"==a.charAt(0)?a.substring(1,7):a},toRGBA:function(a,b){return a?(b||(b=1),b=parseInt(b),isNaN(b)&&(b=1),"object"==typeof a?"rgba("+a.r+","+a.g+","+a.b+","+b+")":"string"==typeof a?"rgba("+this.hexToR(a)+","+this.hexToG(a)+","+this.hexToB(a)+","+b+")":void 0):null},toRGB:function(a){return a?{r:this.hexToR(a),g:this.hexToG(a),b:this.hexToB(a)}:null},changeAlpha:function(a,b){if(!a)return null;if(a.startsWith("#"))var a=toRGB(a);if(a.startsWith("rgba("))var c=/(.*?)rgba\((.*?),(.*?),(.*?),(.*?)\)(.*?)/.exec(a);else if(a.startsWith("rgb("))var c=/(.*?)rgb\((.*?),(.*?),(.*?)\)(.*?)/.exec(a);if(c){var d=parseInt(c[2]),e=parseInt(c[3]),f=parseInt(c[4]);return"rgba("+d+","+e+","+f+","+b+")"}return null},getAlpha:function(a){if(!a)return null;if(a.startsWith("rgba(")){var b=/(.*?)rgba\((.*?),(.*?),(.*?),(.*?)\)(.*?)/.exec(a),c=parseFloat(b[5]);return c}return null},toHex:function(a){if(!a)return null;if(a.startsWith("rgba(")){var b=/(.*?)rgba\((.*?),(.*?),(.*?),(.*?)\)(.*?)/.exec(a),c=parseInt(b[2]),d=parseInt(b[3]),e=parseInt(b[4]),f=e|d<<8|c<<16;return"#"+f.toString(16).toUpperCase()}if(a.startsWith("rgb(")){var b=/(.*?)rgb\((.*?),(.*?),(.*?)\)(.*?)/.exec(a),c=parseInt(b[2]),d=parseInt(b[3]),e=parseInt(b[4]),f=e|d<<8|c<<16;return"#"+f.toString(16).toUpperCase()}return a.startsWith("#")?a:null},sumRGB:function(a,b,c,d){if(!a)return null;var e={r:this.hexToR(a)+b,g:this.hexToG(a)+c,b:this.hexToB(a)+d};return e.r=e.r<=255?e.r:255,e.g=e.g<=255?e.g:255,e.b=e.b<=255?e.b:255,e},sumRGBA:function(a,b,c,d,e){if(!a)return null;var f;return"object"==typeof a?f={r:a.r+b,g:a.g+c,b:a.b+d}:"string"==typeof a&&(f={r:this.hexToR(a)+b,g:this.hexToG(a)+c,b:this.hexToB(a)+d}),f.r=f.r<=255?f.r:255,f.g=f.g<=255?f.g:255,f.b=f.b<=255?f.b:255,this.toRGBA(f,e)}}}(),DateUtil=function(){"use strict";var a=function(){var b=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,c=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,d=/[^-+\dA-Z]/g,e=function(a,b){for(a=String(a),b=b||2;a.length<b;)a="0"+a;return a};return function(f,g,h){var i=a;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(f)||/\d/.test(f)||(g=f,f=void 0),f=f?new Date(f):new Date,isNaN(f))return f;g=String(i.masks[g]||g||i.masks["default"]),"UTC:"==g.slice(0,4)&&(g=g.slice(4),h=!0);var j=h?"getUTC":"get",k=f[j+"Date"](),l=f[j+"Day"](),m=f[j+"Month"](),n=f[j+"FullYear"](),o=f[j+"Hours"](),p=f[j+"Minutes"](),q=f[j+"Seconds"](),r=f[j+"Milliseconds"](),s=h?0:f.getTimezoneOffset(),t={d:k,dd:e(k),ddd:i.i18n.dayNames[l],dddd:i.i18n.dayNames[l+7],m:m+1,mm:e(m+1),mmm:i.i18n.monthNames[m],mmmm:i.i18n.monthNames[m+12],yy:String(n).slice(2),yyyy:n,h:o%12||12,hh:e(o%12||12),H:o,HH:e(o),M:p,MM:e(p),s:q,ss:e(q),l:e(r,3),L:e(r>99?Math.round(r/10):r),t:12>o?"a":"p",tt:12>o?"am":"pm",T:12>o?"A":"P",TT:12>o?"AM":"PM",Z:h?"UTC":(String(f).match(c)||[""]).pop().replace(d,""),o:(s>0?"-":"+")+e(100*Math.floor(Math.abs(s)/60)+Math.abs(s)%60,4),S:["th","st","nd","rd"][k%10>3?0:(k%100-k%10!=10)*k%10]};return g.replace(b,function(a){return a in t?t[a]:a.slice(1,a.length-1)})}}();return a.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},a.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(b,c){return a(this,b,c)
},{format:function(b,c,d){return a(b,c,d)}}}(),Class=function(){"use strict";function fname(a){if("function"!=typeof a)return null;var b=/\W*function\s+([\w\$]+)\(/.exec(a.toString());return b?b[1]:null}function cgs(a,b,c){var d,e;return a.__lookupGetter__&&(d=a.__lookupGetter__(c),e=a.__lookupSetter__(c)),b.__defineGetter__&&(d||e)?(d&&b.__defineGetter__(c,d),e&&b.__defineSetter__(c,e),!0):!1}var _={},issuper=!1,debug=!0,Class={fname:fname,inherit:function inherit(clz,sclz,instantiatable){if("function"!=typeof clz)throw new TypeError("class must be a function");if(sclz&&"function"!=typeof sclz)throw new TypeError("super class must be a function");var attrs={},constructor=function(a){if(a!==_){if(instantiatable===!1&&!issuper)throw new TypeError("this class cannot instantiatable");var b=this;if(this.$super=function(){issuper=!0;var a=sclz.apply(b,arguments);return issuper=!1,a},!issuper)for(var c in attrs)this[c]=attrs[c];var d=clz.apply(this,arguments);try{delete this.$super}catch(e){this.$super=null}return d}},cls=function(){constructor.apply(this,arguments)};if(debug){var name=clz.fname||fname(clz);eval("cls = function "+(name||"anonymous")+"() {constructor.apply(this, arguments);}")}sclz&&(cls.prototype=new sclz(_)),cls.prototype.constructor=cls,cls.clone=function(){return Class.inherit(clz,sclz,instantiatable)},cls.superclass=function(){return sclz},cls.source=function(){return clz};var proto=clz.prototype;for(var k in proto)if(proto.hasOwnProperty(k)&&!cgs(proto,cls,k)){var v=proto[k];cls.prototype[k]=sclz&&"function"==typeof v&&"function"==typeof sclz.prototype[k]?function(a,b){return function(){var c=this,d=this.$super;this.$super=function(){return sclz.prototype[a].apply(c,arguments)};var e=b.apply(this,arguments);if(d)this.$super=d;else{this.$super=null;try{delete this.$super}catch(f){this.$super=null}}return e}}(k,v):v}for(var k in clz)clz.hasOwnProperty(k)&&(cgs(clz,cls,k)||(cls[k]=clz[k]));for(var k in cls.prototype){var v=cls.prototype[k];"function"!=typeof v&&(attrs[k]=v)}return cls}};return Class}(),SelectorBuilder=function(){function XNodeList(a){for(var b=0;b<a.length;b++)this[b]=a[b];Object.defineProperty&&Object.defineProperty(this,"length",{enumerable:!1,configurable:!1,writable:!1,value:a.length}),this.length=a.length}function isNode(a){return"object"==typeof Node?a instanceof Node:a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName}function isElement(a){return"object"!=typeof a?!1:!window.attachEvent||window.opera?a instanceof window.Element:1==a.nodeType&&a.tagName}function isHtml(a){return"string"==typeof a&&(a.match(/(<([^>]+)>)/gi)||~a.indexOf("\n"))?!0:!1}function isArrayType(a){return a&&(a instanceof Commons||Array.isArray(a)||a instanceof NodeList||a instanceof HTMLCollection||"number"==typeof a.length&&"function"==typeof a.forEach)?!0:!1}function merge(a,b){var c=function(a,b){return null===a||void 0===a||~this.indexOf(a)?b:"number"!=typeof b||b>this.length?(this.push(a),b):(0>b&&(b=0),this.splice(b,0,a),b+1)};if(isNode(a)||"number"!=typeof a.length)b=c.call(this,a,b);else for(var d=0;d<a.length;d++)b=c.call(this,a[d],b);return this}function data(a,b){if(!arguments.length)return this.__alien__;if(1===arguments.length)return this.__alien__&&this.__alien__[a];if(this.__alien__||(this.__alien__={}),b!==!1||void 0!==b)this.__alien__[a]=b;else{this.__alien__[a]=void 0;try{delete this.__alien__[a]}catch(c){}}}function resolve(a){return"function"!=typeof a?a:a.call(this,data.call(this,"arg"))}function array_return(a){return a&&a.length?1===a.length?a[0]:a:null}function evalHtml(a,b,c){var d=[];if("string"!=typeof b)return d;var e,f=b.trim().toLowerCase();e=a.createElement(f.indexOf("<tr")?f.indexOf("<tbody")&&f.indexOf("<thead")&&f.indexOf("<tfoot")?f.indexOf("<td")?"div":"tr":"table":"tbody"),e.innerHTML=b;var g=c?e.childNodes:e.children;if(g){for(var h=0;h<g.length;h++)d.push(g[h]);d.forEach(function(a){e.removeChild(a)})}return d}function computed(a,b){var c;if(a.currentStyle)c=a.currentStyle;else{if(!document.defaultView||!document.defaultView.getComputedStyle)return console.error("not support computed style");c=document.defaultView.getComputedStyle(a)}return b?c[b]:c}function accessor(a){var b=a.tagName.toLowerCase(),c=a.id,d=a.className.split(" ").join(".");return c=c?"#"+c:"",d=d?"."+d:"",b+c+d}function assemble(a){if(!a||"string"!=typeof a)return console.error("invalid selector",a);var b=a.split(":"),c=b[0],d=b[1];b=c.split(".");var e,f=b[0],g=b.splice(1).join(" ").trim();if(~f.indexOf("#")){var h=f.split("#");f=h[0],e=h[1]}return{selector:a,accessor:c,tag:f&&f.toLowerCase()||"",id:e||"",classes:g||"",pseudo:d||""}}function hasClass(a,b){for(var c=a.className.split(" "),d=b.split(" "),e=!1,f=0;f<d.length;f++){var g=d[f];g&&~c.indexOf(g)||(e=!0)}return!e}function match(a,b){if("*"===b)return!0;if(!isElement(a)&&isNode(a))return a.nodeName===b;if("string"==typeof a){var c=assemble(a);a={tagName:c.tag,className:c.classes,id:c.id}}var d=assemble(b),e=d.tag,f=d.classes,g=d.id,h=d.pseudo;return e&&a.tagName.toLowerCase()!==e||g&&a.id!==g||f&&!hasClass(a,f)||h&&!matchPseudo(a,h)?!1:!0}function matchPseudo(a,b){if(!a||!b)return!1;var c=a.parentNode;if("first"===b){if(c&&c.children[0]===a)return!0}else if("last"===b){if(c&&c.children[c.children.length-1]===a)return!0}else{if("checked"===b)return a.checked?!0:!1;if("selected"===b)return a.selected?!0:!1;if("empty"===b)return a.childNode.length?!1:!0;if("checkbox"===b||"radio"===b||"select"===b)return function(b){return"input"===a.tagName.toLowerCase()&&(a.getAttribute("type")||"").trim().toLowerCase()===b?!0:!1}(b)}return!1}function stringify(a){if(a.outerHTML)return a.outerHTML;var b=a.parent();if(b)return b.html();var c="<"+a.tagName;a.style&&(c+=' style="'+a.style+'"'),a.className&&(c+=' class="'+a.className+'"');var d=a.attributes;for(var e in d)d.hasOwnProperty(e)&&e&&d[e]&&(c+=" "+e+'="'+d[e]+'"');return c+=">",c+=a.innerHTML,c+="</"+a.tagName+">"}function isShowing(a){return"hidden"===computed(a,"visibillity")?!1:a.scrollWidth||a.scrollHeight||a.offsetWidth||a.offsetHeight||a.clientWidth||a.clientHeight?!0:!1}function boundary(a){if(!a)return console.error("invalid parameter",a);var b=function(a){var c={x:a.offsetLeft,y:a.offsetTop};if(a.offsetParent){var d=b(a.offsetParent);c.x+=d.x,c.y+=d.y}return c},c={x:0,y:0,width:a.offsetWidth,height:a.offsetHeight,scrollWidth:a.scrollWidth,scrollHeight:a.scrollHeight,clientWidth:a.clientWidth,clientHeight:a.clientHeight};if(a.parentNode&&(c.x=a.offsetLeft+a.clientLeft,c.y=a.offsetTop+a.clientTop,a.offsetParent)){var d=b(a.offsetParent);c.x+=d.x,c.y+=d.y}return c}function camelcase(a){var b;try{for(;~(b=a.indexOf("-"));){var c=a.substring(0,b),d=a.substring(b+1,b+2).toUpperCase(),e=a.substring(b+2);a=c+d+e}a=a.substring(0,1).toLowerCase()+a.substring(1)}catch(f){console.error("WARN:style key camelcase translation error",a,f)}return a}function normalizeContentType(a,b){if(a&&"string"==typeof a)return a=a.split(";")[0],~a.indexOf("javascript")?"js":~a.indexOf("html")?"html":~a.indexOf("json")?"json":~a.indexOf("xml")?"xml":~a.indexOf("css")?"css":a;if(b&&"string"==typeof b){var c=Path.ext(b).toLowerCase();return"htm"===c?"html":c}return console.error("illegal parameter",a,b)}function wrappingstringevent(script){return function(e){return eval(script)}}function evaljson(script){var fn;return eval("fn = function() { return "+script+";}"),fn()}function mixselector(a,b){if(b=b||"*","*"===b)return a;if(!~b.indexOf("."))return b+a;var c=b.substring(0,b.indexOf(".")),d=b.substring(b.indexOf("."));return c+a+d}function findChild(a,b){var c=[];if("number"==typeof b){var d=this[a][b];d&&c.push(d)}else if("string"!=typeof b||b.startsWith("arg:"))if(b){b.startsWith("arg:")&&(b=b.substring(4));for(var e=this[a],f=0;f<e.length;f++){var g=e[f];data.call(g,"arg")===b&&c.push(g)}}else merge.call(c,this[a]);else for(var e=this[a],f=0;f<e.length;f++){var g=e[f];match(g,b)&&c.push(g)}return c}String.prototype.startsWith||(String.prototype.startsWith=function(a){return 0===this.indexOf(a)}),String.prototype.endsWith||(String.prototype.endsWith=function(a){var b=String(a),c=this.lastIndexOf(b);return c>=0&&c===this.length-b.length}),Array.prototype.every||(Array.prototype.every=function(a){"use strict";if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=arguments.length>=2?arguments[1]:void 0,e=0;c>e;e++)if(e in b&&!a.call(d,b[e],e,b))return!1;return!0}),XNodeList.prototype=document.querySelectorAll(".sulmairungeisslriga")||[],XNodeList.prototype.item=function(a){return this[a]},window.NodeList||(window.NodeList=XNodeList);var Commons=function(){};Commons.prototype=new Array;var commons=new Commons,Selectors=[],SelectorBuilder=function(a,b){"use strict";function c(){this.length=0,this.refresh.apply(this,arguments)}function d(b,f,g){return":root"===b&&(b=d.root),b&&9===b.nodeType?SelectorBuilder(b):b===a||b===window?d:b!==e?new c(b,f,g):void 0}if(!a||9!==a.nodeType)return console.error("illegal arguments",a,b);var e={};d.prototype=commons;var f=c.prototype=new d(e);d.document=f.document=a,d.root=f.root=b||a.documentElement,d.fn=commons,d.plugins=f,d.plugins.$=d,d.builder=SelectorBuilder,d.branch=function(b){if(!b)return SelectorBuilder(a);if(b&&9===b.nodeType)return SelectorBuilder(b);if("string"==typeof b){{a.querySelectorAll(b)}b=1===b.length&&isElement(b[0])?b[0]:$(b)}return isElement(b)?SelectorBuilder(b.ownerDocument,b):b instanceof Commons?SelectorBuilder(a,b):console.error("illegal argument",b)},d.create=function(){var b=d(a.createDocumentFragment()),c=b.create.apply(b,arguments).owner(null);return c},d.html=function(a){return d.create("div").html(a).contents().owner(null)},d.text=function(b){var c=a.createElement("p");return c.innerText=b,d(c).contents().owner(null)},d.ready=function(b){return a.addEventListener("DOMContentLoaded",b),this},d.util=SelectorBuilder.util,d.addon=SelectorBuilder.addon,d.on=SelectorBuilder.on,d.off=SelectorBuilder.off;var g=SelectorBuilder.staticfn;for(var h in g)d[h]=g[h];return Selectors.push(d),d};return SelectorBuilder.fn=commons,SelectorBuilder.on=function(a,b,c){return window.addEventListener(a,b,c===!0?!0:!1),this},SelectorBuilder.off=function(a,b,c){return window.removeEventListener(a,b,c===!0?!0:!1),this},SelectorBuilder.ready=function(a){return document.addEventListener("DOMContentLoaded",a),this},SelectorBuilder.staticfn={refresh:function(){var a=SelectorBuilder.staticfn;Selectors.forEach(function(b){for(var c in a)b[c]=a[c]})}},SelectorBuilder.addon={},SelectorBuilder.util={merge:merge,data:data,isNode:isNode,match:match,isElement:isElement,isHtml:isHtml,isArrayType:isArrayType,evalHtml:evalHtml,accessor:accessor,assemble:assemble,array_return:array_return,resolve:resolve,matchPseudo:matchPseudo,stringify:stringify,isShowing:isShowing,computed:computed,boundary:boundary,camelcase:camelcase,normalizeContentType:normalizeContentType,mixselector:mixselector,evaljson:evaljson,wrappingstringevent:wrappingstringevent,findChild:findChild},function(){"use strict";var a=commons;a.refresh=function(a,b,c){var d=this.document,e=this.root;if(this.clear(),this.selector=a=a||[],b&&(this.criteria=b),c===!0&&(this.single=c=!0),isHtml(a))a=evalHtml(d,a,!0),merge.call(this,a);else if("string"==typeof a){if(b instanceof Commons){var f=this;b.each(function(){return c&&f.length>0?!1:void(c&&this.querySelector?f.push(this.querySelector(a)):this.querySelectorAll&&merge.call(f,this.querySelectorAll(a)))})}else c?merge.call(this,(b||e).querySelector(a)):merge.call(this,(b||e).querySelectorAll(a))}else merge.call(this,a);return this},a.each=function(a){return this.every(function(b){return a.call(b)===!1?!1:!0}),this},a.add=merge,a.remove=function(a,b){"number"==typeof a&&(a=this[a]);for(var c;(c=this.indexOf(a))>=0&&(this.splice(c,1),!b););return this},a.reverse=function(){return Array.prototype.reverse.call(this),this},a.clear=function(){var a=this.length;if(a>0){for(var b=0;a>b;b++){this[b]=void 0;try{delete this[b]}catch(c){}}this.length=0}return this},a.get=function(a){return this[a]},a.data=function(a,b){if("object"==typeof a){for(var c in a)a.hasOwnProperty(c)&&this.data(c,a[c]);return this}if(arguments.length<=1){var d=arguments,e=[];return this.each(function(){e.push(data.apply(this,d))}),array_return(e)}if("string"!=typeof a)return console.error("invalid key",a);var f=this.$;return this.each(function(){var c=data.call(this,a);data.call(this,a,b),f(this).fire("data",{key:a,value:b,oldValue:c})})},a.returns=function(a){return arguments.length?a:void 0},a.arg=function(a){return arguments.length?(this.data("arg",a),this):this.data("arg")},a.owner=function(a){return arguments.length?!a||a instanceof Commons?(this.__owner__=a||null,this):console.error("owner selection must be an Selector instance, but",a):this.__owner__},a.call=function(a){return"function"!=typeof a?console.error("require function",a):this.each(function(){resolve.call(this,a)})},a.array=function(){return this.slice()},a.out=a.end=function(a){a=a||1;for(var b=this,c=b,d=0;b=b.owner&&b.owner();){if(d++,b&&(c=b),"number"==typeof a&&a===d)return c;if("string"==typeof a&&c.is(a))return c;if(d>100)return console.error("so many out",this)}return console.error("can not found parent:"+(a||""))}}(),function(){"use strict";function type1(a,b){if(!b.length){var c=[];return this.each(function(){c.push(this[a])}),array_return(c)}return this.each(function(){this[a]=resolve.call(this,b[0])})}function type2(a){var b=a[0],c=a[1];if("string"!=typeof b)return console.error("invalid key",b);if(1===a.length){var d=[];return this.each(function(){d.push(isElement(this)?this.getAttribute(b):null)}),array_return(d)}return this.each(function(){if(isElement(this)){var a=resolve.call(this,c);null===a||void 0===a?this.removeAttribute(b):this.setAttribute(b,a+"")}})}function Shadow(a,b){this.host=a,this.template=b,b.all(!0).each(function(){this.__host__=a[0]});var c=a.contents().detach();a.append(b),this.append(c)}var fn=commons;fn.accessor=function(){var a=[];return this.each(function(){a.push(accessor(this))}),array_return(a)},fn.id=function(){return type1.call(this,"id",arguments)},fn.tag=function(){var a=[];return this.each(function(){var b=this.tagName&&this.tagName.toLowerCase();a.push(b)}),array_return(a)},fn.value=fn.val=function(){return type1.call(this,"value",arguments)},fn.checked=function(a){return a=a===!0?!0:!1,type1.call(this,"checked",arguments)},fn.check=function(){return this.each(function(){this.checked=!0})},fn.uncheck=function(){return this.each(function(){this.checked=!1})},fn.selected=function(a){return a=a===!0?!0:!1,type1.call(this,"selected",arguments)},fn.select=function(){return this.each(function(){this.selected=!0,$(this).fire("selected")})},fn.deselect=function(){return this.each(function(){this.selected=!1,$(this).fire("deselected")})},fn.name=function(a){return arguments.length?this.attr("name",a):this.attr("name")},fn.attr=function(){return type2.call(this,arguments)},fn.attrs=function(a){if(!arguments.length){var b=[];return this.each(function(){var a=this.attributes;if(!a)return b.push([]);for(var c={},d=a.length-1;d>=0;d--)c[a[d].name]=a[d].value;b.push(c)}),array_return(b)}if("object"!=typeof a)return console.error("attrs must be an object",a);for(var c in a)this.attr(c,a[c]);return this},fn.outer=function(){return type1.call(this,"outerHTML",arguments)},fn.css=function(){if(!arguments.length){var a=this.style();Array.isArray(a)||(a=[a]);for(var b=[],c=0;c<a.length;c++)b.push(a[c].get());return array_return(b)}return this.style.apply(this,arguments)},fn.style=function(a,b){if(!arguments.length){var c=[];return this.each(function(){c.push(new StyleSession(this))}),array_return(c)}if("object"==typeof a)return this.each(function(){new StyleSession(this).set(a).commit()});if(1===arguments.length){if(a===!1)return this.each(function(){new StyleSession(this).clear().commit()});if("string"==typeof a&&~a.indexOf(":"))return this.each(function(){new StyleSession(this).text(a).commit()});if("string"==typeof a){var c=[];return this.each(function(){c.push(new StyleSession(this).get(a))}),array_return(c)}return console.error("illegal key",a)}return this.each(function(){var c=resolve.call(this,b);new StyleSession(this).set(a,c).commit()})},fn.computed=function(a){var b=[];return this.each(function(){b.push(computed(this,a))}),array_return(b)},fn.classes=function(a,b){if(!arguments.length){var c=[];return this.each(function(){c.push(this.className.trim().split(" "))}),array_return(c)}return this.each(function(){{var c=resolve.call(this,a),d=this;(d.className||"").trim()}if("boolean"==typeof b){if(!c)return this;Array.isArray(c)&&(c=c.join(" ")),c=c.split(" ");for(var e=d.className.trim().split(" "),f=0;f<c.length;f++){var g=c[f];g&&(!b&&~e.indexOf(g)?e.splice(e.indexOf(g),1):b&&!~e.indexOf(g)&&e.push(g))}d.className=e.join(" ").trim()}else d.className="",d.removeAttribute("class"),Array.isArray(c)&&(c=c.join(" ").trim()),c&&(d.className=c.trim())})},fn.ac=fn.addClass=function(a){return this.classes(a,!0)},fn.hc=fn.hasClass=function(a){if(!a||"string"!=typeof a)return a;a=a.split(" ");var b=!1;return this.each(function(){for(var c=0;c<a.length;c++){var d=a[c];d&&~this.className.split(" ").indexOf(d)||(b=!0)}}),!b},fn.rc=fn.removeClass=function(a){return this.classes(a,!1)},fn.cc=fn.clearClass=function(){return this.each(function(){var a=this;a.className="",a.removeAttribute("class")})},fn.is=function(a,b){if(!a||"string"!=typeof a)return!1;var c=a.split(",");if(!this.length||!c.length)return!1;if(b===!0){var d=!1;return this.each(function(){for(var a=!1,b=0;b<c.length;b++){var e=c[b].trim();e&&match(this,c[b].trim())&&(a=!0)}a===!1&&(d=!0)}),!d}var d=!1;return this.each(function(){for(var a=0;a<c.length;a++){var b=c[a].trim();b&&match(this,c[a].trim())||(d=!0)}}),!d},fn.not=function(a){return!this.is(a)},fn.contains=function(a){if(!a)return!1;var b=!1;if("string"==typeof a){var c=!1,d=a.split(",");return this.each(function(){for(var a=0;a<d.length;a++){var b=d[a].trim();if(b&&match(this,b))return c=!0,!1}}),c}return isNode(a)?this.each(function(){this===a&&(b=!0)}):a instanceof Commons&&this.each(function(){}),b},fn.hasChild=function(a){if(!a)return!1;var b=!1;return this.each(function(){if("string"==typeof a){var c=this.querySelector(a);c&&(b=!0)}this.contains&&this.contains(a)&&(b=!0)}),b},fn.parent=function(){var a=[];return this.each(function(){if(isNode(this)){var b=this.parentNode;b&&a.push(b.__host__||b)}}),this.$(a).owner(this)},fn.all=function(a){return a===!0?this.$(this).add(this.$("*",this)).owner(this):this.$("*",this).owner(this)},fn.find=function(a){return arguments.length||(a="*"),this.$(a,this).owner(this)},fn.one=function(a){return arguments.length||(a="*"),this.$(a,this,!0).owner(this)},fn.querySelectorAll=function(a){var b=[];return this.each(function(){$(this).is(a,!0)&&b.push(this);var c=this.querySelectorAll(a);if(c)for(var d=0;d<c.length;d++)b.push(c[d])}),new XNodeList(b)},fn.querySelector=function(a){var b=[];return this.each(function(){if($(this).is(a))return b.push(this),!1;var c=this.querySelector(a);return c?(b.push(c),!1):void 0}),b[0]},fn.children=function(a){var b=this.$().owner(this);return this.each(function(){if(isElement(this)){var c=data.call(this,"shadow");b.add(c?c.children():findChild.call(this,"children",a))}}),b},fn.contents=function(a){if(!arguments.length){var b=this.$().owner(this);return this.each(function(){if(isElement(this)){var a=data.call(this,"shadow");b.add(a?a.contents():this.childNodes)}}),b}return this.html(a)},fn.filter=fn.except=function(a){return this.subset(a,!1)},fn.subset=function(a,b){var c=[];b=b===!1?!1:!0;var d=a;return"string"==typeof a&&(d=function(){return match(this,a)}),this.each(function(){var a=d.apply(this,arguments);b?a===!0&&c.push(this):a!==!0&&c.push(this)}),this.$(c).owner(this)},fn.visitup=function(a,b){return"function"!=typeof a?console.error("visitor must be a function"):(b=b===!0?!0:!1,this.each(function(){if(b&&a.call(this)===!1)return!1;var c=function(b){var d=b.parentNode;if(d){if(a.call(d)===!1)return!1;c(d)}};return c(this)}))},fn.visit=function(a,b,c){if("function"!=typeof a)return console.error("visitor must be a function");b=b===!0?!0:!1,c=c===!0?!0:!1;var d=this.$;return this.each(function(){if(b&&a.call(this)===!1)return!1;var e=function(b){var f=d(c?b.childNodes:b.children);f.each(function(){return a.call(this)===!1?!1:void e(this)})};return e(this)})},fn.first=function(){return this.$(this[0]).owner(this)},fn.last=function(){return this.$(this[this.length-1]).owner(this)},fn.at=function(a){return this.$(this[a]).owner(this)},fn.save=function(a){return this.each(function(){var b=this.attributes;if(b){for(var c={},d=b.length-1;d>=0;d--)c[b[d].name]=b[d].value;var c={html:this.innerHTML,attrs:c};data.call(this,"save."+a,c),data.call(this,"save.#last",c)}})},fn.restore=function(a){return this.each(function(){var b=a?data.call(this,"save."+a):data.call(this,"save.#last");if(!b)return~a.indexOf("#")?null:console.warn("no saved status",a||"");this.innerHTML=b.html||"";for(var c=this.attributes,d=c.length-1;d>=0;d--)this.removeAttribute(c[d].name);c=b.attrs;for(var e in c)this.setAttribute(e,c[e])})},fn.clone=function(a){a||(a=[null]),"number"==typeof a&&(a=new Array(a)),a&&"number"!=typeof a.length&&(a=[a]);var b=this.$,c=[];return this.each(function(){for(var d=0,e=a.length;e>d;d++){var f=this.cloneNode(!0);b(f).data("arg",a[d]).save("#create"),c.push(f)}}),b(c).owner(this)},fn.update=function(a,b,c){var d=this.find(a);if(!d.length)return this.create.apply(this,arguments);var e={};b||(b=[e]);var f=[];if(isArrayType(b))for(var g=0;g<b.length;g++){var h=d[g];isElement(h)&&(b[g]!==e&&$(h).arg(b[g]),f.push(h),"function"==typeof c&&c.call(this,$(h).arg()))}return $(f).owner(this)},fn.create=function(a,b,c){function d(a,b,c){if(!a||"string"!=typeof a)return console.error("invalid parameter",a);var d;if(c===!0||isHtml(a))return d=g(evalHtml(f,a,!0)),d.length?(b&&d.html(b),array_return(d.array())):null;var e=assemble(a),h=e.tag,i=e.classes,j=e.id;return h?(d=f.createElement(h),j&&(d.id=j),i&&(d.className=i),"function"==typeof b&&(b=b.call(d)),"string"==typeof b?d.innerHTML=b:isElement(b)?d.appendChild(b):b instanceof Commons&&b.appendTo(d),d):console.error("invalid parameter",a)}if("string"!=typeof a)return console.error("invalid accessor",a);2===arguments.length&&"function"==typeof b&&(c=b,b=[null]),b||(b=[null]),"number"==typeof b&&(b=new Array(b)),"string"==typeof b&&(b=[b]),b&&"number"!=typeof b.length&&(b=[b]);var e=[],f=this.document,g=this.$;return this.each(function(){for(var f=0,h=b.length;h>f;f++){var i=g(d(a));g(this).append(i),i.data("arg",b[f]).save("#create"),i.each(function(){e.push(this)}),"function"==typeof c&&c.call(this,i.arg())}}),g(e).owner(this)},fn.text=function(){return type1.call(this,"innerText",arguments)},fn.html=function(a){if(!arguments.length){var b=[];return this.each(function(){b.push(this.innerHTML)}),array_return(b)}isArrayType(a)||(a=[a]);var c=this.document,d=this.$;return this.each(function(){var b=d(this);b.empty();for(var e=0;e<a.length;e++){var f=resolve.call(this,a[e]);f&&(!isNode(f)||"#text"!==f.nodeName||f.nodeValue)&&b.append(isNode(f)?f:isHtml(f)?d.create(f):c.createTextNode(f+""))}})},fn.empty=function(){return this.each(function(){var a=data.call(this,"shadow");a?a.empty():this.innerHTML=""})},Shadow.prototype={dom:function(){return this.template},children:function(a){var b=this.host.$();return this.slots().each(function(){isElement(this)&&b.add(findChild.call(this,"children",a))}),b},contents:function(a){if(!arguments.length){var b=this.host.$();return this.slots().each(function(){isElement(this)&&b.add(this.childNodes)}),b}return this.host.html(a)},prepend:function(a){if(!a)return this;a instanceof Commons||(a=b(a));var b=this.host.$,c=this;return a.each(function(){if(isNode(this)){var a=c.slot(this);a&&b(a).prepend(this)}}),this},empty:function(){return this.slots().each(function(){this.innerHTML=""}),this},append:function(a){if(!a)return this;a instanceof Commons||(a=b(a));var b=this.host.$,c=this;return a.each(function(){if(isNode(this)){var a=c.slot(this);a&&b(a).append(this)}}),this},slots:function(){return this.template.find("content")},slot:function(a){var b,c,d=this.template.find("content");return d.each(function(){var d=this.getAttribute("select");return d&&"*"!==d||(b=this),a&&d&&match(a,d)?(c=this,!1):void 0}),c||b}},fn.shadow=function(a){var b=this.$;if(!arguments.length){var c=[];return this.each(function(){c.push(data.call(this,"shadow"))}),array_return(c)}if(null===a||a===!1)return this.each(function(){if(isElement(this)){var a=data.call(this,"shadow");data.call(this,"shadow",null),a.template.detach();var c=a.contents();b(this).append(c)}});if(("string"==typeof a||isNode(a))&&(a=b(a)),!(a instanceof Commons&&a.length))return this;if(1===a.length){var d=a[0];if(d.tagName&&"script"===d.tagName.toLowerCase()){var e=d.textContent||d.innerHTML||d.innerText||"";a=b.html(e.trim())}}return this.each(function(){if(isElement(this)){var c=new Shadow(b(this),a.clone());data.call(this,"shadow",c)}})},fn.append=function(a){if(!a)return console.error("items was null",a);var b=this.$;return this.each(function(){if(isElement(this)){var c=b(resolve.call(this,a)),d=data.call(this,"shadow");if(d)d.append(c);else{var e=this;c.each(function(){isNode(this)&&e.appendChild(this)})}}})},fn.prepend=function(a){if(!a)return console.error("items was null",a);var b=this.$;return this.each(function(){if(isElement(this)){var c=b(resolve.call(this,a)),d=data.call(this,"shadow");if(d)d.prepend(c);else{var e=this;c.each(function(){isNode(this)&&(e.childNodes.length?e.insertBefore(this,e.childNodes[0]):e.appendChild(this))})}}})},fn.before=fn.insertBefore=function(a){if(!a)return console.error("items was null",a);var b=this.$;return this.each(function(){var c=resolve.call(this,a);c instanceof Commons||(c=b(c));var d=this.parentNode,e=this;d&&c.each(function(){("#text"!==this.nodeName||this.nodeValue)&&d.insertBefore(this,e)})})},fn.after=fn.insertAfter=function(a){if(!a)return console.error("items was null",a);var b=this.$;return this.each(function(){var c=resolve.call(this,a);c instanceof Commons||(c=b(c));var d=this.parentNode;if(d){var e=this.nextSibling;c.each(function(){("#text"!==this.nodeName||this.nodeValue)&&(e?d.insertBefore(this,e):d.appendChild(this))})}})},fn.appendTo=function(a){var b=this.$;return this.each(function(){var c=resolve.call(this,a);"string"==typeof c&&(c=b(c)),c instanceof Commons&&(c=c[c.length-1]),("#text"!==this.nodeName||this.nodeValue)&&c&&b(c).append(this)})},fn.prependTo=function(a){var b=this.$;return this.each(function(){var c=resolve.call(this,a);"string"==typeof c&&(c=b(c)),c instanceof Commons&&(c=c[c.length-1]),("#text"!==this.nodeName||this.nodeValue)&&c&&b(c).prepend(this)})},fn.detach=function(){return this.each(function(){var a=this.parentNode;a&&a.removeChild(this)})},fn.unwrap=function(){return this.each(function(){var a=this.parentNode;if(a){var b=a.childNodes,c=[];if(b)for(var d=0;d<b.length;d++)c.push(b[d]);if(c&&a.parentNode){for(var d=0;d<c.length;d++)a.parentNode.insertBefore(c[d],a);a.parentNode.removeChild(a)}}})},fn.wrap=function(a){var b=this.$.create(a)[0];if(!isElement(b))return console.error("invalid accessor or html",a);var c=[],d=this.$;return this.each(function(){var a=this.parentNode,e=d(b).clone()[0];a&&a.insertBefore(e,this),e.appendChild(this),c.push(e)}),d(c).owner(this)};var mutationevents=["attributes","added","removed","textdata","attached","detached","contents"];if(fn.on=function(a,b,c){return"string"!=typeof a?console.error("invalid event type",a):"function"!=typeof b?console.error("invalid fn",b):(c=c===!0?!0:!1,a=a.split(" "),this.each(function(){for(var d=0;d<a.length;d++){var e=a[d];~mutationevents.indexOf(e)&&$(this).mutationsupport(),this.addEventListener(e,b,c)}}))},fn.off=function(a,b,c){return"string"!=typeof a?console.error("invalid event type",a):"function"!=typeof b?console.error("invalid fn",b):(c=c===!0?!0:!1,a=a.split(" "),this.each(function(){for(var d=0;d<a.length;d++)this.removeEventListener(a[d],b,c)}))},fn.firethru=function(){return this.fire.apply(this,arguments),this},fn.fire=function(a,b,c){if(!a)return console.error("invalid event type:",a);b=b,c=c||{},a=a.split(" "),b&&(c.detail=b);var d=[],e=this.document;return this.each(function(){for(var f,g=this,h=0;h<a.length;h++){var i=a[h];if(window.Event&&b instanceof Event)f=b;else if(window.CustomEvent)f=new CustomEvent(i,c);else{if(!e.createEvent)return console.error("this browser does not supports manual dom event fires");f=e.createEvent(c.eventType||"Event"),f.initEvent(i,c.bubbles,c.cancelable)}if(f.detail||(f.detail=b),!(!b||window.Event&&b instanceof Event||"object"!=typeof b))for(var j in b)f[j]=b[j];if(f.src=this,!g.dispatchEvent)return console.error("this browser does not supports manual dom event fires");g.dispatchEvent(f)}d.push(f)}),array_return(d)},fn.action=function(a,b){return this.each(function(){if(isElement(this)){var c=$(this);a||(a=c.attr("href")),a&&(a.toLowerCase().trim().startsWith("javascript:")?wrappingstringevent(a.trim().substring(11)).call(this,b):location.href=a.startsWith("#")||!target?a:a)}})},fn.href=function(a){if(!arguments.length){var b=[];return this.each(function(){var a=this.getAttribute&&this.getAttribute("href");b.push(a)}),array_return(b)}return this.each(function(){var b=$(this),c=b.tag();if(c&&(a?b.attr("href",a):b.attr("href",!1),a=b.attr("href"),"a"!==c)){var d=b.data("href_listener");a?(d||(d=function(a){var c=this.getAttribute("href");c&&b.action(c,a)}),b.on("click",d)):d&&b.off("click",d)}})},fn.hide=function(a,b){var c=this,d=this.$,e=function(){c.each(function(){this.style.display="none",d(this).fire("hide")}),b&&b.apply(c,arguments)};return"object"==typeof a?this.anim(a,scope||this).run(e):("function"==typeof a&&(b=a),e.call(this)),this},fn.invisible=function(a,b){var c=this,d=this.$,e=function(){c.each(function(){this.style.visibility="hidden",d(this).fire("invisible")}),b&&b.apply(c,arguments)};return"object"==typeof a?this.anim(a,scope||this).run(e):("function"==typeof a&&(b=a),e.call(this)),this},fn.show=function(a,b){var c=this,d=this.$,e=function(){c.each(function(){var a=d(this);this.style.display="",this.style.visibility="",this.style.cssText||a.attr("style",!1),"none"===a.computed("display").toLowerCase()&&(this.style.display="block"),"hidden"===a.computed("visibility").toLowerCase()&&(this.style.display="visible"),a.fire("show")}),b&&b.apply(c,arguments)};return"object"==typeof a?this.anim(a,scope||this).run(e):("function"==typeof a&&(b=a),e.call(this)),this},fn.fade=function(){return this.each(function(){var a=this,b=0;a.style.opacity=0,a.style.filter="";var c=+new Date,d=function(){b+=(new Date-c)/400,a.style.opacity=b,a.style.filter="alpha(opacity="+100*b|"0)",c=+new Date,1>b&&(window.requestAnimationFrame&&requestAnimationFrame(d)||setTimeout(d,16))};d()})},fn.fadeIn=function(){return this.fade(0,1)},fn.fadeOut=function(){return this.fade(1,0)},fn.staged=function(a){if("number"==typeof a)return document.body.contains(this[a]);var b=0;return this.each(function(){document.body.contains(this)&&b++}),b>0&&b===this.length},fn.showing=function(a){if("number"==typeof a)return isShowing(this[a]);var b=0;return this.each(function(){isShowing(this)&&b++}),b>0&&b===this.length},fn.boundary=function(){var a=[];return this.each(function(){a.push(boundary(this))}),array_return(a)},fn.bg=function(a){var b=this.$;if(!arguments.length){var c=[];return this.each(function(){var a=this,b={};a.style.backgroundImage&&(b.image=a.style.backgroundImage),a.style.backgroundColor&&(b.color=a.style.backgroundColor),a.style.backgroundSize&&(b.size=a.style.backgroundSize),a.style.backgroundPosition&&(b.position=a.style.backgroundPosition),a.style.backgroundAttachment&&(b.attachment=a.style.backgroundAttachment),a.style.backgroundRepeat&&(b.repeat=a.style.backgroundRepeat),a.style.backgroundClip&&(b.clip=a.style.backgroundClip),a.style.backgroundOrigin&&(b.origin=a.style.backgroundOrigin),c.push(b)
}),array_return(c)}if("string"==typeof a){{a.trim().toLowerCase()}a=!~a.indexOf("(")&&!~a.indexOf(" ")||a.startsWith("rgb(")||a.startsWith("rgba(")||a.startsWith("hsl(")||a.startsWith("hlsa(")?{color:a}:{image:a}}return"object"!=typeof a?this:this.each(function(){var c=b(this);c.style("background-image",a.image),c.style("background-color",a.color),c.style("background-size",a.size),c.style("background-position",a.position),c.style("background-attachment",a.attachment),c.style("background-repeat",a.repeat),c.style("background-clip",a.clip),c.style("background-origin",a.origin)})},fn.font=function(a){var b=this.$;if(!arguments.length){var c=[];return this.each(function(){var a=this,b={};a.style.fontFamily&&(b.family=a.style.fontFamily),a.style.fontSize&&(b.size=a.style.fontSize),a.style.fontStyle&&(b.style=a.style.fontStyle),a.style.fontVarient&&(b.variant=a.style.fontVarient),a.style.fontWeight&&(b.weight=a.style.fontWeight),a.style.fontSizeAdjust&&(b.adjust=a.style.fontSizeAdjust),a.style.fontStretch&&(b.stretch=a.style.fontStretch),a.style.letterSpacing&&(b.spacing=a.style.letterSpacing),a.style.lineHeight&&(b.height=a.style.lineHeight),c.push(b)}),array_return(c)}return this.each(function(){var c=b(this);"string"==typeof a?c.style("font",a):"number"==typeof a?c.style("font-size",a+"px"):"object"==typeof a&&(c.style("font-family",a.family),c.style("font-size",a.size),c.style("font-style",a.style),c.style("font-variant",a.variant),c.style("font-weight",a.weight),c.style("font-size-adjust",a.adjust),c.style("font-stretch",a.stretch),c.style("letter-spacing",a.spacing),c.style("line-height",a.height))})},fn.innerWidth=function(){var a=[];return this.each(function(){var b=0,c=this[0].children;if(c)for(var d=0;d<c.length;d++)b+=c[d].offsetWidth;a.push(b)}),array_return(a)},fn.innerHeight=function(){var a=[];return this.each(function(){var b=0,c=this[0].children;if(c)for(var d=0;d<c.length;d++)b+=c[d].offsetHeight;a.push(b)}),array_return(a)},fn.width=function(a){return arguments.length?this.style.call(this,"width",a):type1.call(this,"offsetWidth",arguments)},fn.height=function(a){return arguments.length?this.style.call(this,"height",a):type1.call(this,"offsetHeight",arguments)},function(){var a=["offsetWidth","offsetHeight","clientWidth","clientHeight","scrollWidth","scrollHeight"],b=["border","color","margin","padding","min-width","max-width","min-height","max-height","flex","float","opacity","z-index"];a.forEach(function(a){fn[a]=fn[a]||function(a){return function(){return type1.call(this,a,arguments)}}(a)}),b.forEach(function(a){var b=camelcase(a);fn[b]=fn[b]||function(a){return function(b){var c=[a];return arguments.length&&c.push(b),this.style.apply(this,c)}}(a)})}(),fn.routes=function(a){var b=this.$;if(!arguments.length){var c=[];return this.each(function(){if(!isElement(this))return c.push(null);var a=b(this).data("routes");c.push(a)}),array_return(c)}return this.each(function(){if(isElement(this)){if(a===!1){if(a=b(this).data("routes"),!a)return;for(var c in a)b(this).route(c,!1)}else{if("object"!=typeof a)return console.error("illegal arguments",a);for(var c in a)b(this).route(c,a[c])}return this}})},fn.route=function(a,b){if(!arguments.length)return console.error("missing arguments:hash");var c=this.$;if(1===arguments.length){var d=[];return this.each(function(){if(!isElement(this))return d.push(null);var b=c(this).data("routes");if(!b)return d.push(null);var e=b[a];d.push(e)}),array_return(d)}return this.each(function(){if(isElement(this)){var d=c(this);if("string"==typeof a&&b===!1){var e=d.data("routes");if(e&&e[a]){e[a]=null;try{delete e[a]}catch(f){}d.fire("route.removed",{hash:a})}}else{if("string"!=typeof a||"function"!=typeof b)return console.error("illegal arguments",a,b);var e=d.data("routes");e||(e={},d.data("routes",e)),e[a]=b;var g=d.data("routes.listener");g||(g=function(a){var b=a.hash;""===b&&(b="@default");var c=e[b],d=e["@notfound"];if(c||d){var f=e["@init"],g=e["@changed"],h=e["@before"],i=e["@after"],j=e["@default"],d=e["@notfound"];!this._router_inited&&f?f.call(this,a):g&&g.call(this,a),c||(c=this._router_inited?c||d:c||j),""===a.hash&&(c=j),this._router_inited=!0,h&&h.call(this,a),c&&c.call(this,a),i&&i.call(this,a)}},d.data("routes.listener",g),d.on("route",g)),d.fire("route.added",{hash:a,handler:b})}}})},fn.fireroute=function(a){arguments.length||(a=location.hash||""),a.startsWith("#")&&(a=a.substring(1));var b=this.$;return this.visit(function(){if(isElement(this)){var c=b(this),d=c.fire("route",{hash:a});return d.cancelBubble===!0?!1:void 0}},!0),this},eval('typeof(MutationObserver) !== "undefined"')){var create=function(a,b,c){if(!isElement(a))return console.error("illegal target(element)",a);if("function"!=typeof b)return console.error("illegal fn(function)",b);var d=new MutationObserver(function(c){c.forEach(function(c){b.call(a,c)})});return d.observe(a,c),d};fn.mutationsupport=function(a){var b=this.$,c={childList:!0,attributes:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0,attributeFilter:!0,fn:function(a){var c=a.type,d=a.target;if("childList"===c){var e=a.addedNodes,f=a.removedNodes;if(f&&f.length){for(var g=0;g<f.length;g++)b(f[g]).fire("detached",{from:d,mutation:a});b(d).fire("removed",{removed:f,mutation:a})}if(e&&e.length){for(var g=0;g<e.length;g++)b(e[g]).fire("attached",{to:d,mutation:a});b(d).fire("added",{added:e,mutation:a})}b(d).fire("contents",{removed:f,added:e,mutation:a})}else if("attributes"===c){var h=a.attributeName,i=a.oldValue,j=d.getAttribute(h);b(d).fire("attributes",{attributeName:h,oldValue:i,value:j,mutation:a})}else if("characterData"===c){var i=a.oldValue,j=a.target.nodeValue;b(d).fire("textdata",{oldValue:i,value:j,mutation:a})}}};return this.each(function(){if(isNode(this)){var d=b(this),e=d.data("observer");a===!1?(e&&e.disconnect(),d.data("observer",!1)):e||(e=create(this,c.fn,c),d.data("observer",e))}})},fn.observe=function(a){if("object"!=typeof a)return console.error("illegal argument",a);if("function"!=typeof a.fn)return console.error("options.fn(function) required",a);var b=this.$;return this.each(function(){if(isNode(this)){var c=b(this),d=c.data("observer.custom");d&&d.disconnect(),a===!1?c.data("observer.custom",!1):(d=create(this,a.fn,a),c.data("observer.custom",d))}})},SelectorBuilder.ready(function(){var a=SelectorBuilder(document);a(document.documentElement).observe({subtree:!0,childList:!0,fn:function(b){if("childList"===b.type){var c=b.target,d=b.addedNodes,e=b.removedNodes;if(e)for(var f=0;f<e.length;f++)a(e[f]).fire("unstaged",{from:c});if(d)for(var f=0;f<d.length;f++)a(d[f]).fire("staged",{to:c})}}})})}var Path=require("path"),Ajax=require("ajax");fn.loader=function(a){if("function"!=typeof a)return console.error("illegal argument",a);var b=this.$;return this.each(function(){var c=b(this);c.data("loader",a)})},fn.load=function(a,b){"string"==typeof a&&(a={url:a}),a.url=Path.join(this.document.URL||location.href,a.url),a.sync=!1,a.cache=!0;var c=this.$;return this.each(function(){var d=c(this);Ajax.ajax(a).done(function(c,e,f){if(c&&"function"==typeof b)return b.apply(d[0],[c,e]);var g=normalizeContentType(f.getResponseHeader("content-type"),a.url),h=d.data("loader");"function"==typeof(b||h)&&(b||h).apply(d[0],[c,e,g,a.url,f]),c?d.fire("loaderror",{error:c,xhr:f}):d.fire("load",{url:a.url,data:e,contentType:g,xhr:f})})})}}(),SelectorBuilder}(),Importer=function(){function a(a,b){var d=b.getAttribute("src"),e=b.nodeValue||b.textContent,f=b.type||b.getAttribute("type");if(!f||"text/javascript"===f.trim().toLowerCase()){var g,h;Object.getOwnPropertyDescriptor?(g=Object.getOwnPropertyDescriptor(b,"ownerDocument"),h=Object.getOwnPropertyDescriptor(document,"currentScript")):(g=b.ownerDocument,h=document.currentScript);var i=a;if(!b.ownerDocument)if(Object.defineProperty)try{Object.defineProperty(b,"ownerDocument",{configurable:!0,get:function(){return i}})}catch(j){b.ownerDocument=i}else b.ownerDocument=i;if(document.currentScript||(Object.defineProperty?Object.defineProperty(document,"currentScript",{configurable:!0,get:function(){return b}}):document.currentScript=b),d){console.log("remote",d);var k=b.getAttribute("async");(""===k||k)&&(k=!0);var l=b.getAttribute("charset");c.ajax({url:d,sync:!k,charset:l}).done(function(a,b){a||window.__evalscript__(b)})}else e&&window.__evalscript__(e);Object.defineProperty?(g&&Object.defineProperty(b,"ownerDocument",g),h&&Object.defineProperty(document,"currentScript",h),b=null,i=null):(b.ownerDocument=g,document.currentScript=h)}}function b(b){var c;"string"==typeof b&&(b={contents:b}),b=b||{};var e=b.contents||"",f=b.noscript,g=d.join(location.href,b.url||location.href),h=(d.uri(g),d.dir(g));if(!Device.is("webkit")&&window.DOMParser){var i=new DOMParser;c=i.parseFromString(e,"text/html")}if(!c&&document.implementation&&document.implementation.createHTMLDocument?(c=document.implementation.createHTMLDocument("noname"),c.open(),c.write(e),c.close()):window.ActiveXObject&&(c=new ActiveXObject("htmlfile"),c.open(),c.write(e),c.close()),Object.defineProperties)try{Object.defineProperties(c,{URL:{configurable:!1,get:function(){return g}},baseURI:{configurable:!1,get:function(){return g}},documentURI:{configurable:!1,get:function(){return g}}})}catch(j){console.error("error",j)}else c.URL=g,c.baseURI=g,c.documentURI=g;if(f!==!0){"function"==typeof b.before&&b.before(c);var k=[],l=c.head&&c.head.childNodes;l&&l.length&&(l=Array.prototype.slice.call(l),l.forEach(function(a){c.head.removeChild(a),k.push(a)}));var m=[],n=c.body&&c.body.childNodes;n&&n.length&&(n=Array.prototype.slice.call(n),n.forEach(function(a){c.body.removeChild(a),m.push(a)}));var o=function(b,e){b.forEach(function(b){var f=b.tagName&&b.tagName.toLowerCase();if(f&&h){var g=Array.prototype.slice.call(b.querySelectorAll("*"));g.push(b),g.forEach(function(a){var b=a.getAttribute("src"),c=a.getAttribute("href");b&&!b.startsWith("#")&&a.setAttribute("src",d.join(h,b)),c&&!c.startsWith("#")&&a.setAttribute("href",d.join(h,c))})}if("template"===f)b.style.display="none";else if("script"===f)a(c,b);else if("style"===f)document.head.appendChild(b.cloneNode(!0));else if("link"===f){var i=(b.getAttribute("rel")||"").toLowerCase().trim();"stylesheet"===i&&document.head.appendChild(b.cloneNode(!0))}e.appendChild(b)})};o(k,c.head),o(m,c.body);var p=c.createEvent("Event");p.initEvent("DOMContentLoaded",!0,!0),c.dispatchEvent(p),"function"==typeof b.after&&b.after(c)}return c}var c=require("ajax"),d=require("path");return{createDocument:b,resolveScript:a,load:function(a){"string"==typeof a&&(a={url:a});var d=a.url;return{done:function(a,b){return b===!0?this.async(a):this.sync(a)},sync:function(e){a.sync=!0;var f;return c.ajax(a).done(function(a,c){if("function"==typeof e){if(a)return e(a);f=b({contents:c,url:d}),e(null,f)}else{if(a)throw a;f=b({contents:c,url:d})}}),f},async:function(e){return c.ajax(a).done(function(a,c){return a?e(a):void e(null,b({contents:c,url:d}))})}}}}}();SelectorBuilder.util.createDocument=Importer.createDocument,SelectorBuilder.util.resolveScript=Importer.resolveScript,SelectorBuilder.staticfn.newDocument=function(){var a=Importer.createDocument.apply(this,arguments);return SelectorBuilder(a)},SelectorBuilder.staticfn.import=function(a,b,c){Importer.load(a).done(function(a,c){return a?b(a):void b(null,c)},c)},SelectorBuilder.fn["import"]=function(a,b,c){"use strict";{var d=this.$;this.document}return this.each(function(){var e=this;"function"!=typeof b&&(b=function(a,b){return a?console.error(a.message):void(b.body&&b.body.childNodes.length||console.warn("body was empty",b,e))}),Importer.load(a).done(function(c,f,g){return c?b(c):(f.body&&f.body.childNodes.length&&d(e).append(f.body.childNodes),b(null,f),void(c?d(e).fire("importerror",{error:c,xhr:g}):d(e).fire("imported",{url:a.url,document:f,xhr:g})))},c)})};var Template=function(){"use strict";function currency(a,b){var c,d,e,a=a,c=isNaN(c=Math.abs(c))?2:c,d=void 0==d?".":d,e=void 0==e?",":e,f=0>a?"-":"",g=parseInt(a=Math.abs(+a||0).toFixed(c))+"",h=(h=g.length)>3?h%3:0;return f+(h?g.substr(0,h)+e:"")+g.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+e)+(b===!1?"":c?d+Math.abs(a-g).toFixed(c).slice(2):"")}function Template(a){if(!a)throw new TypeError("el was null");this.el=a}var TPL_PATTERN=new RegExp("[{][a-zA-Z0-9 :.,()'\";?<>|-|-|-]+[}]","igm"),TRANSLATORS={image:function(a){return"string"==typeof a?'<img src="'+a+'" />':""},currency:function(a){var b=a;return"number"==typeof b&&(b=parseInt(b)),isNaN(b)?a:currency(b,!1)},stringify:function(a){return"object"==typeof a?JSON.stringify(a,null,"	"):"function"==typeof a?a.toString():a},date:function(a,b){return a instanceof Date||(a=new Date(a)),a.format(b||"yyyy.mm.dd")}};return Template.translators=TRANSLATORS,Template.prototype={bind:function(o,fns){o=o||{},fns=fns||{};var el=this.el,parseKey=function(a){if("string"!=typeof a)return null;a.startsWith("{")&&(a=a.substring(1)),a.endsWith("}")&&(a=a.substring(0,a.length-1));var b,c,d=a.split(":"),e=d[1];return e&&(c=e.indexOf("("))>0&&(b=e.substring(e.indexOf("(")+1,e.indexOf(")",c+1)),e=e.substring(0,e.indexOf("("))),{key:d[0],fn:e,option:b,defaultValue:d[2],mask:d[3],args:d}},getValue=function(a,b){if("string"!=typeof a)return null;if(a.indexOf(".")>0){var c=b,d=a.split(".");return d.forEach(function(a){c&&(c=c[a])}),c}return b[a]},evaluate=function(a,b,c,d,e,f,g){for(var h=c,i=-1;(i=h.indexOf("{"))>=0;){h=h.substring(i+1);for(var j=h.substring(0,h.indexOf("}")),k=parseKey(j),l=k.key,m=k.fn,n=k.option,o=k.defaultValue||"",p=e[m]||f[m]||TRANSLATORS[m],q=d;l.startsWith(".");)q=q._parent||{},p=(e._parent||{})[m]||(e._parent||{}).all,l=l.substring(1);var r=getValue(l,q);if(g){var s=g(a,l,r,n,q,b,e);void 0!==s&&(r=s)}if(e&&e.$all){var s=e.$all(l,r,n,q,b,e);void 0!==s&&(r=s)}if(p){"function"!=typeof p&&"function"==typeof p.$&&(p=p.$);var s=p(r,n,q,b,e);void 0!==s&&(r=s)}r||(r=o),c=c.split("{"+j+"}").join(r)}return c},parse=function(path,el,o,fns,global,preprocessor){if("#text"==el.nodeName){if(el.nodeValue){var value=evaluate(path,el,el.nodeValue,o,fns,global,preprocessor),p=el.parentNode,nel=document.createElement(p.tagName||"div");nel.innerHTML=value;var c=nel.childNodes,argc=[];if(c)for(var j=0;j<c.length;j++)argc.push(c[j]);if(argc)for(var j=0;j<argc.length;j++)p.insertBefore(argc[j],el);p.removeChild(el)}}else if(el.getAttribute)for(var attrs=el.attributes,i=0;i<attrs.length;i++){var attr=attrs[i],value=evaluate(path,el,attr.value,o,fns,global,preprocessor);value!==attr.value&&el.setAttribute(attr.name,value)}var childNodes=el.childNodes,argc=[];if(childNodes&&childNodes.length)for(var i=0;i<childNodes.length;i++)argc.push(childNodes[i]);if(argc)for(var i=0;i<argc.length;i++){var sub=argc[i],v;if(!sub.getAttribute||!(v=sub.getAttribute("bypass"))||"true"!==v.trim().toLowerCase()){if(sub.getAttribute&&(v=sub.getAttribute("log"))&&(sub.removeAttribute("log"),function(condition){try{console.log(condition+":",eval(v))}catch(e){console.error("tpl console log error",e,v)}}.call(o,v),"TPL"!==sub.tagName.toUpperCase()||sub.getAttribute("for")||sub.getAttribute("if")||el.removeChild(sub)),sub.getAttribute&&(v=sub.getAttribute("if"))){var elsetag=sub.querySelector("else");elsetag&&elsetag.parentNode!==sub&&(elsetag=null),elsetag&&sub.removeChild(elsetag),sub.removeAttribute("if");var checktrue=function(condition){try{var item=o,row=o,r=eval("("+condition+")");return r}catch(e){return console.error("tpl evaluation error",e,condition),!1}}.call(o,v),cnodes=[],rebuild=!1;if(checktrue){if("TPL"===sub.tagName.toUpperCase()&&!sub.getAttribute("for")){var subc=sub.childNodes;if(subc)for(var p=0;p<subc.length;p++)cnodes.push(subc[p]);rebuild=!0}}else{if(elsetag){var subc=elsetag.childNodes;if(subc)for(var p=0;p<subc.length;p++)cnodes.push(subc[p])}rebuild=!0}if(rebuild){for(var p=0;p<cnodes.length;p++){var n=cnodes[p];el.insertBefore(n,sub),argc.push(cnodes[p])}el.removeChild(sub);continue}}if(sub.getAttribute&&(v=sub.getAttribute("for"))){var parsed=parseKey(v);if(parsed){var key=parsed.key,fn=parsed.fn,def=parsed.defaultValue,option=parsed.option,arg=getValue(key,o)||def,sfns=fns[fn||key]||global[fn||key]||TRANSLATORS[fn||key],spath=(path?path+".":"")+key,snext=sub.nextSibling;if(el.removeChild(sub),"string"==typeof arg)return void(el.innerHTML=arg);if(!arg)continue;"number"!=typeof arg.length&&(arg=[arg]);for(var j=0;j<arg.length;j++){var row=arg[j],type=typeof row;if("string"===type){var r={};r[key]=row,row=r}else if(!row||"object"!==type)continue;var temp=sub.cloneNode(!0);if(preprocessor){var result=preprocessor(path,key,row,option,o,temp,fns);void 0!==result&&(row=result)}if(sfns&&"function"==typeof sfns.$){var result=sfns.$(key,row,option,o,temp,fns);void 0!==result&&(row=result)}if("function"==typeof sfns){var result=sfns(row,option,o,temp,fns);void 0!==result&&(row=result)}if(row!==!1)if(void 0===row&&(row=arg[j]),sfns||(sfns={}),temp.removeAttribute("for"),row._parent=o,sfns._parent=fns,row._index=j,parse(spath,temp,row,sfns,global,preprocessor),"TPL"===temp.tagName.toUpperCase()){var nodes=temp.childNodes,_argc=[];if(nodes&&nodes.length)for(var a=0;a<nodes.length;a++)_argc.push(nodes[a]);if(_argc)for(var a=0;a<_argc.length;a++)snext?el.insertBefore(_argc[a],snext):el.appendChild(_argc[a])}else snext?el.insertBefore(temp,snext):el.appendChild(temp)}}}else parse(path,sub,o,fns,global,preprocessor)}}};return parse("",el,o,fns,fns.global||{},fns.preprocessor),this}},Template}();!function(){var a=SelectorBuilder.fn,b=SelectorBuilder.util,c=(b.array_return,b.resolve),d=b.evalHtml;a.bind=function(a,b){return this.restore("#bind").save("#bind"),this.each(function(){new Template(this).bind(a,b)})},a.tpl=function(a,b){var e=this.document,f=this.$;a||(a={});var g=[];return this.each(function(){"function"==typeof a&&(a=c.call(this,a)),"number"!=typeof a.length&&(a=[a]);for(var h=0;h<a.length;h++){var i=f(this).clone()[0];"script"===i.tagName.toLowerCase()&&(i=d(e,i.textContent||i.innerHTML||i.innerText)[0]),new Template(i).bind(a[h],b),g.push(i)}}),f(g).owner(this)}}();var HashObserver=function(){"use strict";function a(){this.options={}}var b=[];return a.prototype={config:function(a){return"object"!=typeof a?console.error("illegal parameter",a):void(this.options=a)},current:function(){var a=window.location.hash||"#";return a.substring(1)},start:function(){var a=this;if("onhashchange"in window)this.listener=function(){a.invoke()},window.addEventListener?window.addEventListener("hashchange",this.listener,!1):window.attachEvent("hashchange",this.listener);else{var b=window.location.hash;this.poller=window.setInterval(function(){window.location.hash!=b&&(b=window.location.hash,a.invoke())},200)}},stop:function(){this.poller&&window.clearInterval(this.poller),this.listener&&(window.removeEventListener?window.removeEventListener("hashchange",this.listener,!1):window.detachEvent("hashchange",this.listener))},invoke:function(){for(var a=0;a<b.length;a++){var c=b[a],d=c.fn,e=c.scope||window;if("object"!=typeof d||(e=d,d=d.onHash)){var f=window.location.hash||"";f=f.split("#").join(""),d.call(e,f,window.location)}}},handlers:function(){return b.slice()},unregist:function(a){if(!a)return!1;"object"==typeof a&&a.onHash&&(a=a.onHash);for(var c,d=0;d<b.length;d++)b[d]&&b[d].fn===a&&(c=b[d]);return c?(b.splice(b.indexOf(c),1),!0):!1},regist:function(a,c){return a?(b.push({fn:a,scope:c}),this):this}},new a}();!function(){HashObserver.regist(function(a){var b=SelectorBuilder(document);b(document.body).fireroute(a)}),HashObserver.start(),SelectorBuilder.addon.HashObserver=HashObserver,SelectorBuilder.on("load",function(){HashObserver.invoke()})}();var Animator=function(){"use strict";function a(a,b){return"number"!=typeof a?a:a+(b||"")}function b(b,e){var f=b.parent(),g=b.style();e.use3d!==!1&&g.set("transform-style","preserve-3d"),"hidden"===e.backface&&g.set("backface-visibility","hidden"),e.origin&&g.set("transform-origin",e.origin),"number"==typeof e.perspective&&f.style("perspective",e.perspective),g.set("transition-timing-function",e.easing||c.DEFAULT_EASING||"ease-in-out"),g.set("transition-duration",(e.duration||c.DEFAULT_DURATION)+"ms");var h=[];for(var i in e)if(i&&e.hasOwnProperty(i)&&!~d.indexOf(i)){var j=e[i];if("transform"===i&&"object"==typeof j){var k=e.transform,l="";for(var i in k)if(k.hasOwnProperty(i)){var j=k[i];l+="x"===i?"translateX("+a(j,"px")+") ":"y"===i?"translateY("+a(j,"px")+") ":"z"===i?"translateZ("+a(j,"px")+") ":"rx"===i?"rotateX("+a(j,"deg")+") ":"ry"===i?"rotateY("+a(j,"deg")+") ":"rz"===i?"rotateZ("+a(j,"deg")+") ":"sx"===i?"scaleX("+a(j)+") ":"sy"===i?"scaleY("+a(j)+") ":"sz"===i?"scaleZ("+a(j)+") ":i+"("+j+")"}g.set("transform",l),h.push("transform")}else i&&(g.set(i,j),h.push(i))}g.set("transition-property",h.join(",")),g.commit()}function c(a,b,c){if(!$.util.isElement(a))throw new TypeError("el must be a element",a);this.el=$(a),c&&this.scope(c),this._chain=[],this.index=-1,b&&this.chain(b)}var d=["delay","use3d","backface","origin","perspective","easing","duration","perspective"];return c.DEFAULT_DURATION=250,c.DEFAULT_EASING="ease-in-out",c.FAULT_WAITING=100,c.prototype={chain:function(a){if(!arguments.length)return this._chain;if("number"==typeof a)return this._chain[a];if(a===!1)return this._chain=[],this;var b=a;Array.isArray(b)||(b=[b]);for(var c=0;c<b.length;c++){var d=b[c];"object"!=typeof d&&console.error("[WARN] illegal animation options",d),this._chain.push(d)}return this},scope:function(a){return arguments.length?(a&&(this._scope=a),this):this._scope||this.el},length:function(){return this._chain.length},reset:function(a){this.stop(),this.first(),this.chain(a)},before:function(a){return arguments.length?a===!1?(this._before=null,this):"function"!=typeof a?console.error("Animator:before must be a function",a):(this._before=a,this):this._before},run:function(a){this.first();var b=this.before();b&&b.call(this.scope(),this);var c=function(){!this.next(c)&&a&&a.call(this.scope(),this)};return c.call(this),this},reverse:function(a){this.last();var b=this.before();b&&b.call(this.scope(),this);var c=function(){!this.prev(c)&&a&&a.call(this.scope(),this)};return c.call(this),this},executeCurrent:function(a){var d=this,e=!1,f=function(){e||(e=!0,d.el.un("transitionend",f),a&&a.call(d.scope(),d))},g=this.chain(this.index);if(!g)return!1;this.el.on("transitionend",f),"number"==typeof g.delay?setTimeout(function(){b(d.el,g)},g.delay):b(this.el,g);var h=c.FAULT_WAITING;return("number"!=typeof h||isNaN(g.delay))&&(h=100),"number"!=typeof g.delay||isNaN(g.delay)||(h+=g.delay),h+="number"!=typeof g.duration||isNaN(g.duration)?c.DEFAULT_DURATION:g.duration,setTimeout(function(){e||(e=!0,console.log("animation no affects",g),d.el.un("transitionend",f),a&&a.call(d.scope(),d))},h),this},first:function(){return this.index=-1,this},last:function(){return this.index=-1,this},next:function(a){var b=this.chain(++this.index);if(!b)return!1;var c=this,d=this.executeCurrent(function(b){a&&a.call(c,b)});return d?this:!1},prev:function(a){var b=this.chain(--this.index);if(!b)return!1;var c=this,d=this.executeCurrent(function(b){a&&a.call(c,b)});return d?this:!1}},c}(),AnimationGroup=function(){"use strict"}();!function(){var a=SelectorBuilder.fn;a.animate=function(a,b){return new AnimationGroup(this,a,this,this).run(b).out()},a.animator=function(a,b){return new AnimationGroup(this,a,b||this,this)}}();var Scroller=function(){function a(a,b){var c=this.options,d=b;for(var e in d){var f=d[e];c[e]=f}this.id=b?b.id:"",this.el=a.el||a,this.unlock()}var b=["input","textarea","select"],c="createTouch"in document,d=Device;return a.prototype={options:{fps:d.is("android")?45:d.is("ios")?void 0:120,snapEasing:"cubic-bezier(0.3, 0.6, 0.6, 1)",snapDelay:250,initialY:0,initialX:0,lockThreshold:0,overscroll:!0,acceleration:!0},id:void 0,clientWidth:0,clientHeight:0,contentWidth:0,contentHeight:0,lockThreshold:0,target:void 0,overscroll:!0,axisx:!1,axisy:!1,axisauto:!1,startx:0,starty:0,lastx:0,lasty:0,lastd:0,fpsInterval:void 0,use3d:!0,beginTime:0,acceleration:!0,isDragging:!1,hl:!1,scale:1,e:{},initialized:!1,lock:function(){var a=this.el;c?(a.removeEventListener("touchstart",this,!1),a.removeEventListener("touchmove",this,!1),a.removeEventListener("touchend",this,!1)):(a.removeEventListener("mousedown",this,!1),a.removeEventListener("mousemove",this,!1),a.removeEventListener("mouseup",this,!1),a.removeEventListener("mouseout",this,!1)),a.removeEventListener("gesturechange",this,!1),a.removeEventListener("gestureend",this,!1),a.removeEventListener("click",this,!1),a.removeEventListener("click",this,!0),a.removeEventListener("transitionend",this,!1)},unlock:function(){var a=this.el;c?(a.addEventListener("touchstart",this,!1),a.addEventListener("touchmove",this,!1),a.addEventListener("touchend",this,!1)):(a.addEventListener("mousedown",this,!1),a.addEventListener("mousemove",this,!1),a.addEventListener("mouseup",this,!1),a.addEventListener("mouseout",this,!1)),a.addEventListener("click",this,!1),a.addEventListener("click",this,!0),a.addEventListener("transitionend",this,!1),this.options.zoom&&(a.addEventListener("gesturechange",this,!1),a.addEventListener("gestureend",this,!1))},on:function(a,b){a&&b&&(this.e[a]=b,this.hl=!0)},fire:function(a,b,c,d,e,f,g,h,i){var j=this.e[a];j&&"function"==typeof j&&j(b,c,d,e,f,g,h,i)},changeAxis:function(a){this.axisx=this.axisy=!1,a?("x"==a&&(this.axisx=!0),"y"==a&&(this.axisy=!0),("xy"==a||"yx"==a)&&(this.axisx=this.axisy=!0)):(this.axisy=!0,this.axisauto=!0),this.validate()},reload:function(){this.initialized=!0;var a=this.options,b=this;this.stop(),window.removeEventListener("resize",b.validate,!1),window.addEventListener("resize",b.validate,!1),this.clientWidth=this.el.parentNode.clientWidth,this.clientHeight=this.el.parentNode.clientHeight,this.contentWidth=this.el.scrollWidth,this.contentHeight=this.el.scrollHeight,this.target=void 0,this.clientWidth=0,this.clientHeight=0,this.contentWidth=0,this.contentHeight=0,this.starty=0,this.startx=0,this.lastx=0,this.lasty=0,this.lastd=0,this.use3d=a.use3d===!1?!1:!0,this.beginTime=0,this.isDragging=!1,this.acceleration=!(0==a.acceleration),this.lockThreshold=a.lockThreshold?a.lockThreshold:0,this.overscroll=0==a.overscroll?!1:!0,a.e&&(this.e=a.e,this.hl=!0),this.changeAxis(a.axis),this.unlock();var c=a.fps;c&&!isNaN(parseInt(c))&&(this.fpsInterval=Math.round(1e3/c))},destroy:function(){this.el;this.lock(),this.hl&&this.fire("destroyed",this)},validate:function(){if(this.hl&&this.fire("beforevalidate",this),this.el&&this.el.parentNode){this.clientWidth=this.el.parentNode.clientWidth,this.clientHeight=this.el.parentNode.clientHeight,1==this.scale&&(this.contentWidth=this.el.scrollWidth),1==this.scale&&(this.contentHeight=this.el.scrollHeight),this.bottomx=-(this.contentWidth-this.clientWidth),this.bottomy=-(this.contentHeight-this.clientHeight);var a=this.lastx,b=this.lasty;1===this.scale&&(this.ocw=this.contentWidth,this.och=this.contentHeight),this.axisauto&&(this.axisx=!1,this.axisy=!0,this.contentWidth>this.clientWidth&&(this.axisx=!0,this.axisy=!1),this.contentHeight>this.clientHeight&&(this.axisy=!0));var c=this.bottomx=-(this.contentWidth-this.clientWidth),d=this.bottomy=-(this.contentHeight-this.clientHeight);this.axisy&&(b>0||d>=0?this.toTop():d>b&&this.toBottom()),this.axisx&&(a>0||c>=0?this.toLeft():c>a&&this.toRight()),this.hl&&this.fire("aftervalidate",this)}},handleEvent:function(a){if(this.initialized||this.reload(),this.scrollToFn){var b=this.scrollToFn;this.scrollToFn=null,b(this,this.lastx,this.lasty)}if("click"==!a.type&&(a._handleByScroller=!0),!(a.lockx&&this.axisx||a.locky&&this.axisy)){var c=a.target.tagName;if(this.options.zoom){if("gesturechange"==a.type){a.preventDefault(),this.zoomlock=!0;var e=this.scale=a.scale;this.contentWidth=Math.round(e*this.ocw),this.contentHeight=Math.round(e*this.och),this.axisx=!0,this.axisy=!0;var f=this.el;f.css("transition",""),f.css("transform","scale("+a.scale+")")}else if("gestureend"==a.type){a.preventDefault(),a.stopPropagation(),this.contentWidth=Math.round(e*this.ocw),this.contentHeight=Math.round(e*this.och);var f=this.el;f.css("transition",""),f.css("transform","scale("+a.scale+")"),this.validate(),this.zoomlock=!1}if(this.zoomlock)return}if("touchstart"==a.type||"mousedown"==a.type)this.begin(a);else if(!this.isDragging||"touchmove"!=a.type&&"mousemove"!=a.type)if(!this.isDragging||"touchend"!=a.type&&"mouseup"!=a.type){if("click"==a.type){if(a.touches&&a.touches.length>1)return void a.stopPropagation();if(d.is("android")&&"SELECT"==c)return;return void(a._handleByScroller||a.stopPropagation())}if("webkitTransitionEnd"==a.type){if(a.target!=this.el)return;return"-webkit-transform"==a.propertyName&&this.hl&&this.isOver&&(console.log("finished with transition"),this.fire("finish",this,this.lastx,this.lasty,this.bottomx,this.bottomy,this.isOver,a,this.dx,this.dy)),this.validate(),void a.stopPropagation()}}else this.finish(a);else{var g=a.touches?a.touches[0]:a;if((!this.fpsInterval||0==this.lastd||a.timeStamp-this.lastd>this.fpsInterval)&&this.moving(a,g),this.lockThreshold){var h=Math.abs(g.clientX-this.startx),i=Math.abs(g.clientY-this.starty);this.axisy&&h<=this.lockThreshold&&(a.lockx=!0),this.axisx&&i<=this.lockThreshold&&(a.locky=!0)}this.axisx&&this.lastx<0&&this.lastx>this.bottomx&&(a.lockx=!0),this.axisy&&this.lasty<0&&this.lasty>this.bottomy&&(a.locky=!0)}~c.indexof("SELECT","INPUT","TEXTAREA")}},begin:function(a){this.stop(),this.validate(),this.el.css("transition",""),this.isDragging=!0,this.beginTime=a.timeStamp;var b=a.touches?a.touches[0]:a;this.target=a.target,this.starty=b.clientY,this.startOffsetY=this.lasty,this.startx=b.clientX,this.startOffsetX=this.lastx,this.dx=0,this.dy=0,this.hl&&this.fire("begin",this,a)},moving:function(a,b){this.lastd=a.timeStamp;var c=b.clientY,d=c-this.starty,e=d+this.startOffsetY,f=b.clientX,g=f-this.startx,h=g+this.startOffsetX;if(this.dx=b.clientX-this.startx,this.dy=b.clientY-this.starty,e&&this.axisy){if(e>=0){if(!this.overscroll)return;e-=d/2}else if(e<=this.bottomy){if(!this.overscroll)return;e-=d/2}e&&this._scrollBy(null,e)}if(h&&this.axisx){if(h>=0){if(!this.overscroll)return;h-=g/2}else if(h<=this.bottomx){if(!this.overscroll)return;h-=g/2}h&&this._scrollBy(h,null)}this.hl&&this.fire("moving",this,a,this.dx,this.dy)},finish:function(a){this.hl&&this.fire("beforefinish",this,a),this.clientWidth=this.el.parentNode.clientWidth,this.clientHeight=this.el.parentNode.clientHeight,1==this.scale&&(this.contentWidth=this.el.scrollWidth),1==this.scale&&(this.contentHeight=this.el.scrollHeight);var b=this.bottomx=-(this.contentWidth-this.clientWidth),c=this.bottomy=-(this.contentHeight-this.clientHeight),d=this.lastx,e=this.lasty,f=a.timeStamp-this.beginTime,g=!1;if(this.axisx&&this.axisy)e>=0||c>=0?(g=!0,this.toTop()):c>e?(g=!0,this.toBottom()):300>f&&this.acceleration&&(this.dy>0&&this.toTop(3e3),this.dy<0&&this.toBottom(3e3)),d>=0||b>=0?(g=!0,this.toLeft()):b>d?(g=!0,this.toRight()):300>f&&this.acceleration&&(this.dx>0&&this.toLeft(3e3),this.dx<0&&this.toRight(3e3));else if(this.axisy){if(e>=0||c>=0)g=!0,this.hl&&this.fire("over",this,"y",e,a),this.toTop();else if(c>e)g=!0,this.hl&&this.fire("over",this,"y",e-c,a),this.toBottom();else if(300>f&&this.acceleration){var h=this._momentum(e-this.startOffsetY,f,-e,this.clientHeight-this.contentHeight<0?this.contentHeight-this.clientHeight+e:0,this.options.overscroll?this.clientHeight:0),i=e+h.dist;this.scrollTo(0,i,h.time)}}else if(this.axisx)if(d>=0||b>=0)g=!0,this.hl&&this.fire("over",this,"x",d,a),this.toLeft();else if(b>d)g=!0,this.hl&&this.fire("over",this,"x",d-b,a),this.toRight();else if(300>f&&this.acceleration){var j=this._momentum(d-this.startOffsetX,f,-d,this.clientWidth-this.contentWidth<0?this.contentWidth-this.clientWidth+d:0,this.options.overscroll?this.clientWidth:0),k=d+j.dist;this.scrollTo(k,0,j.time)}this.isDragging=!1,!a._dispatched&&Math.abs(this.dx)<=20&&Math.abs(this.dy)<=20&&this._dispatchOriginalEvent(a),a._dispatched=!0,this.isOver=g,this.hl&&(this.isOver||this.fire("finish",this,this.lastx,this.lasty,this.bottomx,this.bottomy,this.isOver,a,this.dx,this.dy))
},_momentum:function(a,b,c,d,e){var f=function(a){return a>>0},g=65e-5,h=Math.abs(a)/b,i=h*h/(2*g),j=0,k=0;return a>0&&i>c?(k=e/(6/(i/h*g)),c+=k,h=h*c/i,i=c):0>a&&i>d&&(k=e/(6/(i/h*g)),d+=k,h=h*d/i,i=d),i*=0>a?-1:1,j=h/g,{dist:i,time:f(j)}},_scrollBy:function(a,b){0!=a&&(a=a||this.lastx),0!=b&&(b=b||this.lasty),this.lastx=a,this.lasty=b,this.use3d?this.el.css("transform","translate3d("+(a?a+"px":0)+", "+(b?b+"px":0)+", 0)"):this.el.css("transform","translate("+(a?a+"px":0)+", "+(b?b+"px":0)+")")},_dispatchOriginalEvent:function(a){var c=this.target;if(-1==b.indexOf(c.localName))if(d.is("webkit")){var e=document.createEvent("MouseEvent");e.initMouseEvent("click",!0,!1,document.defaultView,0,0,0,0,0,0,0,0,0,0,0,null),e._handleByScroller=!0,e._ignoreInner=a._ignoreInner,c.dispatchEvent(e)}else if(document.dispatchEvent){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,1,1,1,1,1,!1,!1,!1,!1,0,c),e._handleByScroller=!0,e._ignoreInner=a._ignoreInner,c.dispatchEvent(e)}else document.fireEvent&&c.fireEvent("onclick")},scrollTo:function(a,b,c,d,e){0!==c&&this.el.css("transition","transform "+(c||this.options.snapDelay)+"ms "+(e||this.options.snapEasing)),this._scrollBy(a,b,d),d&&"function"==typeof d&&(0==c&&d?d(this,this.lastx,this.lasty):this.scrollToFn=d)},stop:function(){this.hl&&this.fire("beforestop",this);var a=document.defaultView.getComputedStyle(this.el,null);if(window.WebKitCSSMatrix){var b=new WebKitCSSMatrix(a.webkitTransform);this._scrollBy(b.m41,b.m42),this.el.css("transition",""),this.el.css("transition-duration",""),this.el.css("transition-delay",""),this.el.css("transform-timing-function","")}this.hl&&this.fire("afterstop",this)},toTop:function(a,b,c){this.scrollTo(null,0,a,b,c)},toBottom:function(a,b,c){this.axisy&&this.scrollTo(null,-(this.contentHeight-this.clientHeight),a,b,c)},toLeft:function(a,b,c){this.scrollTo(0,null,a,b,c)},toRight:function(a,b){this.axisx&&this.scrollTo(-(this.contentWidth-this.clientWidth),null,a,b)},toFirst:function(a,b,c){this.scrollTo(0,0,a,b,c)},toLast:function(a,b,c){var d=-(this.contentWidth-this.clientWidth),e=-(this.contentHeight-this.clientHeight);this.axisx||(d=0),this.axisy||(e=0),this.scrollTo(d,e,a,b,c)}},a}(),SingleSelectable=function(){"use strict";function a(a,b,c){this.cmp=a,this.autodeselect(c)}return a.prototype={selectable:function(){return arguments.length?this:1},autodeselect:function(a){return arguments.length?("boolean"==typeof a&&(this._autodeselect=a),this):this._autodeselect===!0?!0:!1},select:function(a){var b=this.cmp.get(a);if(a=this.cmp.indexOf(b),!b)return!1;if(this.selected()===b)return!1;if(this.selected()){if(!this.autodeselect())return!1;this.deselect(this.selected())}if(this.selected(b))return!1;var c=this.cmp.fire("select",{cancelable:!0,item:b,index:a});return c.eventPrevented?!1:(this._selected=b,this.cmp.fire("selected",{item:c.item,index:c.index}),!0)},deselect:function(a){var b=this.cmp.get(a);if(a=this.cmp.indexOf(b),!b)return!1;var c=this.cmp.fire("deselect",{cancelable:!0,item:b,index:a});return c.eventPrevented?!1:this.selected(b)?(this._selected=null,this.cmp.fire("deselected",{item:c.item,index:c.index}),!0):!1},selected:function(a){if(!arguments.length)return this._selected;var b=this.cmp.get(a);return a=this.cmp.indexOf(b),this._selected===b},selectedIndex:function(){return this._selected?this.cmp.indexOf(this._selected):-1},prev:function(){var a=this.selectedIndex();return a>0?this.select(a--):!1},next:function(){var a=this.selectedIndex();return a>=0&&a<this.length()-1?this.select(a++):!1},first:function(){return this.select(0)},last:function(){return this.select(this.cmp.length())}},a}(),Selectable=function(){"use strict";function a(a,b,c){this.cmp=a,this._selected=[],this.autodeselect(c),this.selectable(b)}return a.prototype={selectable:function(a){return arguments.length?("number"==typeof a&&(this._selectable=a),this):this._selectable||-1},autodeselect:function(a){return arguments.length?("boolean"==typeof a&&(this._autodeselect=a),this):this._autodeselect===!0?!0:!1},select:function(a){var b=this.selectable();if(0===b)return!1;var c=this.cmp.get(a);if(a=this.cmp.indexOf(c),!c)return!1;if(b>=0&&this._selected.length>=b){if(!this.autodeselect())return!1;this.deselect(this._selected[0])}if(this.selected(c))return!1;var d=this.cmp.fire("select",{cancelable:!0,item:c,index:a});return d.eventPrevented?!1:(this._selected.push(c),this.cmp.fire("selected",{item:d.item,index:d.index}),!0)},deselect:function(a){var b=this.cmp.get(a);if(a=this.cmp.indexOf(b),!b)return!1;var c=this.cmp.fire("deselect",{cancelable:!0,item:b,index:a});return c.eventPrevented?!1:this.selected(b)?(Util.array.removeByItem(this._selected,b,!0),this.cmp.fire("deselected",{item:b,index:a}),!0):!1},selected:function(a){if(!arguments.length)return this._selected.length?this._selected.slice():null;var b=this.cmp.get(a);return a=this.cmp.indexOf(b),~this._selected.indexOf(b)?!0:!1},selectedIndex:function(){}},a}(),Items=function(){"use strict";function a(a,b){this.el=a,b&&this.selectable(b)}var b=SelectorBuilder.util.isArrayType,c=a.prototype=new Array;return c.add=c.push=function(a,b){if(void 0==a||null===a)return console.warn("item cannot be null",a),this;b&&"number"!=typeof b&&(b=this.indexOf(b));var c=this.el.fire("item.add",{item:a},{cancelable:!0});return c.defaultPrevented||null===c.item||void 0===c.item?this:(!b&&0!==b||0>b||b>=this.length?Array.prototype.push.call(this,a):this.splice(b,0,a),c=this.el.fire("item.added",{item:a,index:this.indexOf(a)}),this)},c.merge=function(a,c,d){if(!arguments.length)return Array.prototype.slice.call(this)||[];if("number"==typeof a)return this.get(a);if(!a)return console.warn("["+this.accessor()+"] items was empty",a),this;var e=[];if(c!==!0)for(var f=this.slice(),g=f.length;g>=0;g--)e.push(f[g]),this.remove(g);if(b(a)||(a=[a]),a)for(var g=0;g<a.length;g++)this.push(a[g],d),"number"==typeof d&&d++;return this.el.fire("items",{items:this.slice(),added:a,removed:e}),this},c.clear=function(){var a=this.length;if(a>0){for(var b=0;a>b;b++){var c=this.indexOf(b);this.el.fire("item.removed",{item:c,index:b}),this.related(c,!1),this[b]=void 0;try{delete this[b]}catch(d){}}this.length=0}return this},c.get=function(a){return"number"==typeof a?this[a]:(a=this.indexOf(a),a>=0?this[a]:null)},c.contains=function(a){return this.contains(a)},c.first=function(){return this[0]},c.last=function(){return this[this.length-1]},c.each=function(a){return this.every(function(b){return a.call(b)===!1?!1:!0}),this},c.remove=function(a,b){"number"==typeof a&&(a=this[a]);for(var c;(c=this.indexOf(a))>=0&&(this.splice(c,1),this.el.fire("item.removed",{item:a,index:c}),this.related(a,!1),!b););return this},c.reverse=function(){return Array.prototype.reverse.call(this),this},c.mark=function(a,b){if(arguments.length||(a="initial"),this._marks||(this._marks={}),b!==!1)this._marks[a]=Array.prototype.slice.call(this);else{this._marks[a]=null;try{delete this._marks[a]}catch(c){}}return this},c.restore=function(a){if(!this._marks)return this;var b=arguments.length?this._marks[a]:this._marks.initial;return b&&this.clear().merge(b),this},c.related=function(a,b){var c=this._related;return arguments.length?1==arguments.length?c&&c.get(a):a&&b===!1?(c&&c["delete"](a),this):~this.indexOf(a)?(c=this._related=this._related||new Map,a&&b?c.set(a,b):console.error("["+this.component.accessor()+"] illegal arguments",a,b)):console.error("["+this.component.accessor()+"] item does not exists in this container",a,this):c},c.selectable=function(a){if(!arguments.length)return a=this._selectable,a?a.selectable.call(this):0;("number"!=typeof a||0>a)&&console.error("illegal type of selectable(number>=0)",a);var b=this.selector();return b||(a===!1||0===a?this.selector(!1):1===a?this.selector(SingleSelectable):a>0&&this.selector(Selectable)),b=this.selector(),b&&b.selectable(a),this},c.selector=function(a){return arguments.length?(this._selector=a===!1?null:new a(this),this):this._selector},c.autodeselect=function(){var a=this._selector;return a?a.autodeselect.apply(a,arguments):console.error("["+this.el.accessor()+"] component is not selectable")},c.select=function(){var a=this._selector;return a?a.select.apply(a,arguments):console.error("["+this.el.accessor()+"] component is not selectable")},c.deselect=function(){var a=this._selector;return a?a.deselect.apply(a,arguments):console.error("["+this.el.accessor()+"] component is not selectable")},c.selected=function(){var a=this._selector;return a?a.selected.apply(a,arguments):console.error("["+this.el.accessor()+"] component is not selectable")},c.selectedIndex=function(){var a=this._selector;return a?a.selectedIndex.apply(a,arguments):console.error("["+this.el.accessor()+"] component is not selectable")},c.prev=function(){var a=this._selector;return a?a.prev.apply(a,arguments):console.error("["+this.el.accessor()+"] component is not selectable")},c.next=function(){var a=this._selector;return a?a.next.apply(a,arguments):console.error("["+this.el.accessor()+"] component is not selectable")},a}();!function(){SelectorBuilder.addon.Items=Items;{var a=SelectorBuilder.fn,b=SelectorBuilder.util,c=b.array_return;b.isArrayType}a.item=function(a,b){var c=this.$;return this.each(function(){var d=this.items;d||(d=this.items=new Items(c(this))),d.merge(a,!0,b)})},a.items=function(a,b,d){if(!arguments.length){var e=[];return this.each(function(){e.push(this.items)}),c(e)}var f=this.$;return this.each(function(){var c=this.items;c||(c=this.items=new Items(f(this))),c.merge(a,b,d)})}}();var addon=SelectorBuilder.addon;eval('typeof(Animator) !== "undefined"')&&(addon.Animator=Animator),eval('typeof(CSS3Calibrator) !== "undefined"')&&(addon.CSS3Calibrator=CSS3Calibrator),eval('typeof(Device) !== "undefined"')&&(addon.device=Device),eval('typeof(Scroller) !== "undefined"')&&(addon.Scroller=Scroller),eval('typeof(StyleSession) !== "undefined"')&&(addon.StyleSession=StyleSession),eval('typeof(Template) !== "undefined"')&&(addon.Template=Template),eval('typeof(Importer) !== "undefined"')&&(addon.Importer=Importer),eval('typeof(Class) !== "undefined"')&&(addon.Class=Class),eval('typeof(Color) !== "undefined"')&&(addon.Color=Color);var CJS=!1;try{eval("(module && exports && require)"),CJS=!0}catch(e){}if("function"==typeof window.define&&define.attrs)define("attrs.dom",function(a){a.exports=SelectorBuilder(document)}),define("animator",function(a){a.exports=Animator}),define("css-calibrator",function(a){a.exports=CSS3Calibrator}),define("device",function(a){a.exports=Device}),define("scroller",function(a){a.exports=Scroller}),define("template",function(a){a.exports=Template}),define("style-session",function(a){a.exports=StyleSession}),define("html-import",function(a){a.exports=Importer}),define("class",function(a){a.exports=Class}),define("color",function(a){a.exports=Color});else if("function"==typeof window.define&&define.amd)define(function(){return $}),define("animator",function(){return Animator}),define("css-calibrator",function(){return CSS3Calibrator}),define("device",function(){return Device}),define("scroller",function(){return Scroller}),define("template",function(){return Template}),define("style-session",function(){return StyleSession}),define("html-import",function(){return Importer}),define("class",function(){return Class}),define("color",function(){return Color});else if(CJS)exports=$;else{var original=window.$,attrsdom=window.$=SelectorBuilder(document);$.noConflict=function(){return window.$=original,attrsdom}}}();